window.__require=function t(e,o,n){function i(r,a){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var p="function"==typeof __require&&__require;if(!a&&p)return p(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var l=o[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,o,n)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({AreaNode:[function(t,e,o){"use strict";cc._RF.push(e,"4f5a1/djLhCfKe8u7jC1q0z","AreaNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.miniMapUi=null,e.gameManager=null,e.activePanel="0",e}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(cc.Node.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this),this.node.on(cc.Node.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this)},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.onMouseEnter=function(){},e.prototype.onMouseDown=function(t){t.getLocationX()>=830&&t.getLocationX()<=940&&t.getLocationY()>=520&&t.getLocationY()<=630&&(this.miniMapUi.getChildByName("rightPanel").active=!0,this.activePanel="right",this.setCameraAnchor(1)),t.getLocationX()>=690&&t.getLocationX()<=800&&t.getLocationY()>=520&&t.getLocationY()<=630&&(this.miniMapUi.getChildByName("leftPanel").active=!0,this.activePanel="left",this.setCameraAnchor(-1)),t.getLocationX()>=690&&t.getLocationX()<=800&&t.getLocationY()>=520&&t.getLocationY()<=630||t.getLocationX()>=830&&t.getLocationX()<=940&&t.getLocationY()>=520&&t.getLocationY()<=630||(this.miniMapUi.getChildByName("leftPanel").active=!1,this.miniMapUi.getChildByName("rightPanel").active=!1,this.activePanel="0",this.setCameraAnchor(0))},e.prototype.onMouseLeave=function(){},e.prototype.onMouseUp=function(){this.miniMapUi.getChildByName("leftPanel").active=!1,this.miniMapUi.getChildByName("rightPanel").active=!1,this.activePanel="0",this.setCameraAnchor(0)},e.prototype.onMouseMove=function(t){"right"==this.activePanel&&(t.getLocationX()>=830&&t.getLocationX()<=940&&t.getLocationY()>=520&&t.getLocationY()<=630||(this.miniMapUi.getChildByName("leftPanel").active=!1,this.miniMapUi.getChildByName("rightPanel").active=!1,this.activePanel="0",this.setCameraAnchor(0))),"left"==this.activePanel&&(t.getLocationX()>=690&&t.getLocationX()<=800&&t.getLocationY()>=520&&t.getLocationY()<=630||(this.miniMapUi.getChildByName("leftPanel").active=!1,this.miniMapUi.getChildByName("rightPanel").active=!1,this.activePanel="0",this.setCameraAnchor(0)))},e.prototype.setCameraAnchor=function(t){this.gameManager.getComponent("GameManager").setCameraAnchor(t)},c([s(cc.Node)],e.prototype,"miniMapUi",void 0),c([s(cc.Node)],e.prototype,"gameManager",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Arrow:[function(t,e,o){"use strict";cc._RF.push(e,"59d65rCd65HeaNbiiLTA1TE","Arrow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return i(e,t),e.prototype.init=function(t){this.setInitPos(t)},e.prototype.setInitPos=function(t){this.node.parent=t.parent,t.scaleX>0?(this.node.position=cc.v3(35,8),this.node.scaleX=1):(this.node.position=cc.v3(-35,8),this.node.scaleX=-1),this.node.position=this.node.position.addSelf(t.position)},e.prototype.arrowMove=function(t){this.node.angle=t},e.prototype.destroyArrow=function(){this.node.destroy()},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Bomb:[function(t,e,o){"use strict";cc._RF.push(e,"4bd3b5m3MVAcJrOIV77Ddig","Bomb");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bombManager=null,e.isTriggered=!1,e.rigidBody=null,e.shootAngle=null,e.animation=null,e.power=null,e.sfx_shoot=null,e.sfx_bomb=null,e}return i(e,t),e.prototype.init=function(t){cc.audioEngine.playEffect(this.sfx_shoot,!1),this.animation=this.getComponent(cc.Animation),this.rigidBody=this.getComponent(cc.RigidBody),this.setInitPos(t),this.animation.play("grenade"),this.bulletMove()},e.prototype.reuse=function(t){this.bombManager=t,this.isTriggered=!1},e.prototype.setInitPos=function(t){this.node.parent=t.parent,t.scaleX>0?(this.node.position=cc.v3(35,4),this.node.scaleX=1):(this.node.position=cc.v3(-35,4),this.node.scaleX=-1),this.node.position=this.node.position.addSelf(t.position)},e.prototype.bulletMove=function(){var t;t=this.node.scaleX>=0?1:-1;var e=10*this.power;this.shootAngle>=0?this.rigidBody.linearVelocity=cc.v2(e*t*Math.cos(this.shootAngle),Math.sin(this.shootAngle)*e):(e*=.75,this.rigidBody.linearVelocity=cc.v2(e*t,Math.sinh(this.shootAngle)*e)),this.rigidBody.angularVelocity=200*t},e.prototype.onBeginContact=function(){var t=this;cc.audioEngine.playEffect(this.sfx_bomb,!1),this.scheduleOnce(function(){t.node.stopAllActions(),t.unscheduleAllCallbacks(),t.animation.stop(),t.bombManager.put(t.node)},.07)},e.prototype.setAnglePower=function(t,e){this.shootAngle=t,this.power=e},c([s(cc.AudioClip)],e.prototype,"sfx_shoot",void 0),c([s(cc.AudioClip)],e.prototype,"sfx_bomb",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"889b5Mpv+1HeZcVtW6D2TTK","Bullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isTriggered=!1,e.rigidBody=null,e.shootAngle=null,e.animation=null,e.speed=null,e.sfx_shoot=null,e}return i(e,t),e.prototype.init=function(t,e){cc.audioEngine.playEffect(this.sfx_shoot,!1),this.animation=this.getComponent(cc.Animation),this.rigidBody=this.getComponent(cc.RigidBody),this.setInitPos(t),this.animation.play("flash"),this.speed=e},e.prototype.setInitPos=function(t){this.node.parent=t.parent,t.scaleX>0?(this.node.position=cc.v3(35,4),this.node.scaleX=1):(this.node.position=cc.v3(-35,4),this.node.scaleX=-1),this.node.position=this.node.position.addSelf(t.position)},e.prototype.bulletMove=function(){var t;t=this.node.scaleX>0?1:-1,this.rigidBody.linearVelocity=cc.v2(35*t+this.speed*t*Math.cos(this.shootAngle),Math.sin(this.shootAngle)*this.speed)},e.prototype.playBulletAnim=function(){this.bulletMove(),this.animation.play("bullet1")},e.prototype.onBeginContact=function(){this.node.stopAllActions(),this.unscheduleAllCallbacks(),this.animation.stop(),this.node.destroy()},e.prototype.setAngle=function(t){this.shootAngle=t},c([s(cc.AudioClip)],e.prototype,"sfx_shoot",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Crosshair:[function(t,e,o){"use strict";cc._RF.push(e,"4dfcdivTy9Dm4Lyp2kmmMT3","Crosshair");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(t){console.log("aaa"),this.setInitPos(t)},e.prototype.setInitPos=function(t){this.node.parent=t.parent,t.scaleX>0?(this.node.position=cc.v3(35,8),this.node.scaleX=1):(this.node.position=cc.v3(-35,8),this.node.scaleX=-1),this.node.position=this.node.position.addSelf(t.position)},e.prototype.crosshairMove=function(t){this.node.angle=t},e.prototype.destroyArrow=function(){this.node.destroy()},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"eecbbjN1SVLA6bQ8gyDdvsO","GameManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Player"),a=t("./UI"),s=cc._decorator,p=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player1=null,e.player2=null,e.player3=null,e.player4=null,e.UI=null,e.camera=null,e.bgm1=null,e.bgm2=null,e.background=null,e.weaponSprite0=null,e.weaponSprite1=null,e.weaponSprite2=null,e.weaponSprite3=null,e.weaponSprite4=null,e.cameraSpeed=300,e.player=null,e.aKeyDown=!1,e.dKeyDown=!1,e.shoot=!1,e.totalPlayer=2,e.alivePlayer=null,e.shootAngle=null,e.playerNum=null,e.isPaused=!1,e.playerPath="Canvas/Players/",e.cameraAnchor=0,e.moveChoice=null,e.shootFlag=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-980),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.playerNum=cc.sys.localStorage.getItem("PlayerNum"),this.alivePlayer=parseInt(this.playerNum),cc.audioEngine.stopMusic(),this.playBGM(),this.initPauseMenuButtons(),this.initSettingsMenuButtons(),this.initNextMoveButtons()},e.prototype.start=function(){this.loadPlayer(),this.changePlayer(0)},e.prototype.update=function(t){var e=this.player.node.getPosition(),o=this.camera.getPosition();this.camera.getPosition(),1==this.cameraAnchor||-1==this.cameraAnchor?o.x+=this.cameraAnchor*this.cameraSpeed*t:(o.lerp(e,.1,o),o.y=cc.misc.clampf(e.y,0,200)),o.y>100&&(o.y=100),o.x<-35?o.x=-35:o.x>2068&&(o.x=2068),this.camera.setPosition(o),this.updateWeaponUi(),null==this.winner&&(this.UI.timerVal<0||this.player.isDie)&&(this.UI.timerVal=20,this.changePlayer(this.currPlayer+1))},e.prototype.loadPlayer=function(){switch(this.totalPlayer=parseInt(this.playerNum),this.totalPlayer){case 4:cc.find(this.playerPath+"Player 4").active=!0;case 3:cc.find(this.playerPath+"Player 3").active=!0;case 2:cc.find(this.playerPath+"Player 2").active=!0,cc.find(this.playerPath+"Player 1").active=!0}},e.prototype.isWin=function(){this.totalPlayer,2==this.totalPlayer?(this.player1.isDie,this.player2.isDie):3==this.totalPlayer?(this.player1.isDie,this.player2.isDie,this.player3.isDie):4==this.totalPlayer&&(this.player1.isDie,this.player2.isDie,this.player3.isDie,this.player4.isDie),1==this.alivePlayer&&(this.winner=this.player.playerName.getComponent(cc.Label).string,console.log(this.winner))},e.prototype.changePlayer=function(t){switch(this.currPlayer=t%this.totalPlayer,this.player&&!this.player.isDie&&(this.player.setPlayerMoveDirection(0),this.player.setPlayerJump(!1),this.player.line.getComponent("TrajectoryLine").clearLine(),this.onDisable()),this.currPlayer){case 0:this.player=this.player1;break;case 1:this.player=this.player2;break;case 2:this.player=this.player3;break;case 3:this.player=this.player4}this.player.isDie?this.changePlayer(t+1):(this.onEnable(),this.changePlayerUi(),null==this.winner&&this.chooseNextMove())},e.prototype.chooseNextMove=function(){cc.director.pause();var t=this.player.playerName.getComponent(cc.Label).string;cc.find("Canvas/Main Camera/Next Move Menu/Big Layout/Name").getComponent(cc.Label).string=t+"'s turn",cc.find("Canvas/Main Camera/Next Move Menu").active=!0},e.prototype.initNextMoveButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="GameManager",t.handler="chooseMove",cc.find("Canvas/Main Camera/Next Move Menu/Big Layout/moveBtn").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="GameManager",e.handler="chooseShoot",cc.find("Canvas/Main Camera/Next Move Menu/Big Layout/shootBtn").getComponent(cc.Button).clickEvents.push(e)},e.prototype.chooseMove=function(){this.moveChoice="move",cc.find("Canvas/Main Camera/Next Move Menu").active=!1,cc.director.resume()},e.prototype.chooseShoot=function(){this.moveChoice="shoot",cc.find("Canvas/Main Camera/Next Move Menu").active=!1,cc.director.resume()},e.prototype.playBGM=function(){var t=cc.director.getScene().name;"map1"==t?cc.audioEngine.playMusic(this.bgm1,!0):"map2"==t&&cc.audioEngine.playMusic(this.bgm2,!0)},e.prototype.onEnable=function(){this.player&&(this.player.node.on(cc.Node.EventType.TOUCH_START,this.onEventStart,this),this.player.node.on(cc.Node.EventType.TOUCH_MOVE,this.onEventMove,this),this.player.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onEventCancel,this),this.player.node.on(cc.Node.EventType.TOUCH_END,this.onEventEnd,this))},e.prototype.onDisable=function(){this.player&&(this.player.node.off(cc.Node.EventType.TOUCH_START,this.onEventStart,this),this.player.node.off(cc.Node.EventType.TOUCH_MOVE,this.onEventMove,this),this.player.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onEventCancel,this),this.player.node.on(cc.Node.EventType.TOUCH_END,this.onEventEnd,this))},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:"move"==this.moveChoice&&(this.aKeyDown=!0,this.player.setPlayerMoveDirection(-1));break;case cc.macro.KEY.d:"move"==this.moveChoice&&(this.dKeyDown=!0,this.player.setPlayerMoveDirection(1));break;case cc.macro.KEY.space:"move"==this.moveChoice&&this.player.setPlayerJump(!0);break;case cc.macro.KEY.escape:this.pauseGame();break;case cc.macro.KEY.p:this.changePlayer(this.currPlayer+1),this.UI.timerVal=20}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.aKeyDown=!1,"move"==this.moveChoice&&(this.dKeyDown?this.player.setPlayerMoveDirection(1):this.player.setPlayerMoveDirection(0));break;case cc.macro.KEY.d:this.dKeyDown=!1,"move"==this.moveChoice&&(this.aKeyDown?this.player.setPlayerMoveDirection(-1):this.player.setPlayerMoveDirection(0));break;case cc.macro.KEY.space:"move"==this.moveChoice&&this.player.setPlayerJump(!1);break;case cc.macro.KEY.f:this.player.weapon="gun";break;case cc.macro.KEY.r:this.player.weapon="bomb"}},e.prototype.onEventStart=function(t){this.enabledInHierarchy&&"move"!=this.moveChoice&&1!=this.shootFlag&&(this.shoot,t.stopPropagation())},e.prototype.onEventMove=function(t){if(this.enabledInHierarchy&&"move"!=this.moveChoice&&1!=this.shootFlag){var e=t.getStartLocation(),o=t.getLocation(),n=o.x-e.x,i=e.y-o.y;if(this.shootAngle=Math.atan2(Math.abs(i),Math.abs(n)),n>=0?this.player.setPlayerChangeDirection(-1):this.player.setPlayerChangeDirection(1),i<0&&(this.shootAngle*=-1),!this.shoot)if(this.player.aim=!0,"gun"==this.player.weapon)"normal"==this.player.gunType?this.player.line.getComponent("TrajectoryLine").drawStraightLine(this.shootAngle,300):"burst"==this.player.gunType?this.player.line.getComponent("TrajectoryLine").drawStraightLine(this.shootAngle,200):"sniper"==this.player.gunType?this.player.line.getComponent("TrajectoryLine").drawStraightLine(this.shootAngle,400):"shotgun"==this.player.gunType&&this.player.line.getComponent("TrajectoryLine").drawCircle(this.shootAngle);else if("bomb"==this.player.weapon){var c=Math.abs(i)>=Math.abs(n)?Math.abs(i):Math.abs(n);this.player.line.getComponent("TrajectoryLine").drawCurveLine(this.shootAngle,2*c),this.player.power=2*c>100?100:2*c}t.stopPropagation()}},e.prototype.onEventCancel=function(t){this.enabledInHierarchy&&"move"!=this.moveChoice&&1!=this.shootFlag&&(this.haveShot(),t.stopPropagation())},e.prototype.onEventEnd=function(t){this.enabledInHierarchy&&"move"!=this.moveChoice&&1!=this.shootFlag&&(this.haveShot(),t.stopPropagation())},e.prototype.haveShot=function(){this.shoot||"move"!=this.moveChoice&&1!=this.shootFlag&&(this.shootFlag=!0,this.player.line.getComponent("TrajectoryLine").clearLine(),"gun"==this.player.weapon?this.player.setPlayerShoot(this.shootAngle):"bomb"==this.player.weapon&&this.player.setPlayerBomb(this.shootAngle),this.player.setPlayerChangeDirection(0),this.pauseAfterShoot())},e.prototype.pauseAfterShoot=function(){var t=this;this.UI.freeze=!0,this.moveChoice=null,this.scheduleOnce(function(){t.UI.freeze=!1,t.UI.timerVal=20,t.shootFlag=!1,t.changePlayer(t.currPlayer+1)},2)},e.prototype.pauseGame=function(){cc.director.isPaused()?(cc.director.resume(),cc.find("Canvas/Main Camera/Pause Menu").active=!1):(cc.director.pause(),cc.find("Canvas/Main Camera/Pause Menu").active=!0)},e.prototype.initPauseMenuButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="GameManager",t.handler="resume",cc.find("Canvas/Main Camera/Pause Menu/Big Layout/resumeBtn").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="GameManager",e.handler="restart",cc.find("Canvas/Main Camera/Pause Menu/Big Layout/restartBtn").getComponent(cc.Button).clickEvents.push(e);var o=new cc.Component.EventHandler;o.target=this.node,o.component="GameManager",o.handler="settings",cc.find("Canvas/Main Camera/Pause Menu/Big Layout/settingsBtn").getComponent(cc.Button).clickEvents.push(o);var n=new cc.Component.EventHandler;n.target=this.node,n.component="GameManager",n.handler="exit",cc.find("Canvas/Main Camera/Pause Menu/Big Layout/exitBtn").getComponent(cc.Button).clickEvents.push(n)},e.prototype.resume=function(){cc.director.resume(),cc.find("Canvas/Main Camera/Pause Menu").active=!1},e.prototype.restart=function(){cc.director.resume();var t=cc.director.getScene().name;cc.director.loadScene("loading",function(){cc.director.loadScene(t)})},e.prototype.settings=function(){cc.find("Canvas/Main Camera/Settings Menu").active=!0},e.prototype.exit=function(){cc.audioEngine.stopAll(),cc.director.loadScene("loading",function(){cc.director.loadScene("menu")})},e.prototype.initSettingsMenuButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="GameManager",t.handler="close",cc.find("Canvas/Main Camera/Settings Menu/closeBtn").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="GameManager",e.handler="bgMute",cc.find("Canvas/Main Camera/Settings Menu/Big Layout/BG Mute/bgMuteBtn").getComponent(cc.Button).clickEvents.push(e);var o=new cc.Component.EventHandler;o.target=this.node,o.component="GameManager",o.handler="sfxMute",cc.find("Canvas/Main Camera/Settings Menu/Big Layout/SFX Mute/sfxMuteBtn").getComponent(cc.Button).clickEvents.push(o);var n=new cc.Component.EventHandler;n.target=this.node,n.component="GameManager",n.handler="changeBgVol",cc.find("Canvas/Main Camera/Settings Menu/Big Layout/BG Volume/bgSlider").getComponent(cc.Slider).slideEvents.push(n);var i=new cc.Component.EventHandler;i.target=this.node,i.component="GameManager",i.handler="changeSfxVol",cc.find("Canvas/Main Camera/Settings Menu/Big Layout/SFX Volume/sfxSlider").getComponent(cc.Slider).slideEvents.push(i)},e.prototype.close=function(){cc.find("Canvas/Main Camera/Settings Menu").active=!1},e.prototype.bgMute=function(){cc.audioEngine.setMusicVolume(0)},e.prototype.sfxMute=function(){cc.audioEngine.setEffectsVolume(0)},e.prototype.changeBgVol=function(){var t=cc.find("Canvas/Main Camera/Settings Menu/Big Layout/BG Volume/bgSlider").getComponent(cc.Slider).progress;cc.audioEngine.setMusicVolume(t)},e.prototype.changeSfxVol=function(){var t=cc.find("Canvas/Main Camera/Settings Menu/Big Layout/SFX Volume/sfxSlider").getComponent(cc.Slider).progress;cc.audioEngine.setEffectsVolume(t)},e.prototype.setCameraAnchor=function(t){this.cameraAnchor=t},e.prototype.getWin=function(){return null!=this.winner},e.prototype.updateWeaponUi=function(){if(this.player)switch(this.player.getCurrWeaponNum()){case"0":cc.find("Canvas/Main Camera/UI/WeaponUi").getChildByName("Sprite").getComponent(cc.Sprite).spriteFrame=this.weaponSprite0;break;case"1":cc.find("Canvas/Main Camera/UI/WeaponUi").getChildByName("Sprite").getComponent(cc.Sprite).spriteFrame=this.weaponSprite1;break;case"2":cc.find("Canvas/Main Camera/UI/WeaponUi").getChildByName("Sprite").getComponent(cc.Sprite).spriteFrame=this.weaponSprite2;break;case"3":cc.find("Canvas/Main Camera/UI/WeaponUi").getChildByName("Sprite").getComponent(cc.Sprite).spriteFrame=this.weaponSprite3;break;case"4":cc.find("Canvas/Main Camera/UI/WeaponUi").getChildByName("Sprite").getComponent(cc.Sprite).spriteFrame=this.weaponSprite4;break;default:cc.find("Canvas/Main Camera/UI/WeaponUi").getChildByName("Sprite").getComponent(cc.Sprite).spriteFrame=this.weaponSprite3}},e.prototype.playerDie=function(){this.alivePlayer-=1,1==this.alivePlayer&&(this.UI.timerVal=20,this.winner=this.player.playerName.getComponent(cc.Label).string,this.changePlayer(this.currPlayer+1))},e.prototype.changePlayerUi=function(){switch(cc.find("Canvas/Main Camera/UI/Profile/name").getComponent(cc.Label).string=this.player.playerName.getComponent(cc.Label).string,this.player.playerChar){case"char1":cc.find("Canvas/Main Camera/UI/Profile/face0").active=!0,cc.find("Canvas/Main Camera/UI/Profile/face1").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face2").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face3").active=!1;break;case"char2":cc.find("Canvas/Main Camera/UI/Profile/face0").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face1").active=!0,cc.find("Canvas/Main Camera/UI/Profile/face2").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face3").active=!1;break;case"char3":cc.find("Canvas/Main Camera/UI/Profile/face0").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face1").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face2").active=!0,cc.find("Canvas/Main Camera/UI/Profile/face3").active=!1;break;case"char4":cc.find("Canvas/Main Camera/UI/Profile/face0").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face1").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face2").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face3").active=!0;break;default:cc.find("Canvas/Main Camera/UI/Profile/face0").active=!0,cc.find("Canvas/Main Camera/UI/Profile/face1").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face2").active=!1,cc.find("Canvas/Main Camera/UI/Profile/face3").active=!1}},e.prototype.getCurrPlayer=function(){return this.currPlayer},c([l(r.default)],e.prototype,"player1",void 0),c([l(r.default)],e.prototype,"player2",void 0),c([l(r.default)],e.prototype,"player3",void 0),c([l(r.default)],e.prototype,"player4",void 0),c([l(a.default)],e.prototype,"UI",void 0),c([l(cc.Node)],e.prototype,"camera",void 0),c([l(cc.AudioClip)],e.prototype,"bgm1",void 0),c([l(cc.AudioClip)],e.prototype,"bgm2",void 0),c([l(cc.Node)],e.prototype,"background",void 0),c([l(cc.SpriteFrame)],e.prototype,"weaponSprite0",void 0),c([l(cc.SpriteFrame)],e.prototype,"weaponSprite1",void 0),c([l(cc.SpriteFrame)],e.prototype,"weaponSprite2",void 0),c([l(cc.SpriteFrame)],e.prototype,"weaponSprite3",void 0),c([l(cc.SpriteFrame)],e.prototype,"weaponSprite4",void 0),c([l()],e.prototype,"cameraSpeed",void 0),c([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Player":"Player","./UI":"UI"}],Ground2:[function(t,e,o){"use strict";cc._RF.push(e,"c4825SrSX9Dg4uXzK4Qa7oU","Ground2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groundPrefab=null,e.Bound=-223,e.growDir=0,e.isGone=!1,e}return i(e,t),e.prototype.onLoad=function(){this.createBlocks()},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.createBlocks=function(){var t,e;if(0==this.growDir)for(t=this.node.y-15,e=1;t>=this.Bound;)t=this.node.y-15*e,(o=cc.instantiate(this.groundPrefab)).parent=this.node.parent,o.setPosition(this.node.x,t),e++;else for(t=this.node.y+15,e=1;t<=this.Bound;){var o;t=this.node.y+15*e-4,(o=cc.instantiate(this.groundPrefab)).parent=this.node.parent,o.setPosition(this.node.x,t),e++}},e.prototype.onBeginContact=function(t,e,o){var n=this;"bomb"==o.node.group?(this.node.getChildByName("particle").active=!0,this.isGone||(this.scheduleOnce(function(){n.node.destroy()},.1),this.isGone=!0,cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("score",100),cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("coin",100))):"bullet"==o.node.group&&(this.node.getChildByName("particle").active=!0,this.isGone||(this.scheduleOnce(function(){n.node.destroy()},.05),this.isGone=!0,cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("score",100),cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("coin",100)))},e.prototype.onPreSolve=function(t,e,o){var n=this;"explosiveObj"==o.node.group&&(this.node.getChildByName("particle").active=!0,this.isGone||(this.scheduleOnce(function(){n.node.destroy()},.35),this.isGone=!0,cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("score",100),cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("coin",100)))},c([s(cc.Prefab)],e.prototype,"groundPrefab",void 0),c([s()],e.prototype,"Bound",void 0),c([s()],e.prototype,"growDir",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Ground:[function(t,e,o){"use strict";cc._RF.push(e,"27c01J847FL9JfMFwSZUf6Z","Ground");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isGone=!1,e}return i(e,t),e.prototype.init=function(t,e){this.setInitPos(t,e)},e.prototype.reuse=function(){},e.prototype.setInitPos=function(t,e){this.node.parent=t,this.node.position=cc.v3(15*e%3e3-480,15*Math.floor(e/200)-320),this.node.position=this.node.position.addSelf(t.position)},e.prototype.onBeginContact=function(t,e,o){var n=this;"bomb"==o.node.group?(this.node.getChildByName("particle").active=!0,this.isGone||(this.scheduleOnce(function(){n.node.destroy()},.1),this.isGone=!0,cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("score",100),cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("coin",100))):"bullet"==o.node.group&&(this.node.getChildByName("particle").active=!0,this.isGone||(this.scheduleOnce(function(){n.node.destroy()},.05),this.isGone=!0,cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("score",100),cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("coin",100)))},e.prototype.onPreSolve=function(t,e,o){var n=this;"explosiveObj"==o.node.group&&(this.node.getChildByName("particle").active=!0,this.isGone||(this.scheduleOnce(function(){n.node.destroy()},.35),this.isGone=!0,cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("score",100),cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("coin",100)))},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],"Instructions-minimap":[function(t,e,o){"use strict";cc._RF.push(e,"7a77eQPNs5HnKeoq+nyiB++","Instructions-minimap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.initButtons()},e.prototype.start=function(){},e.prototype.initButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Instructions-minimap",t.handler="loadNextInstructions",cc.find("Next").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="Instructions-minimap",e.handler="loadPrevInstructions",cc.find("Prev").getComponent(cc.Button).clickEvents.push(e)},e.prototype.loadNextInstructions=function(){cc.director.loadScene("instructions - win")},e.prototype.loadPrevInstructions=function(){cc.director.loadScene("instructions - option 2")},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],"Instructions-option1":[function(t,e,o){"use strict";cc._RF.push(e,"717acDLmcNIiYT9UfpZAPhm","Instructions-option1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.initButtons()},e.prototype.start=function(){},e.prototype.initButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Instructions-option1",t.handler="loadNextInstructions",cc.find("Next").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="Instructions-option1",e.handler="loadPrevInstructions",cc.find("Prev").getComponent(cc.Button).clickEvents.push(e)},e.prototype.loadNextInstructions=function(){cc.director.loadScene("instructions - option 2")},e.prototype.loadPrevInstructions=function(){cc.director.loadScene("instructions")},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],"Instructions-option2":[function(t,e,o){"use strict";cc._RF.push(e,"cc30acpkBxLtKbIdxRprS2A","Instructions-option2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.initButtons()},e.prototype.start=function(){},e.prototype.initButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Instructions-option2",t.handler="loadNextInstructions",cc.find("Canvas/Next").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="Instructions-option2",e.handler="loadPrevInstructions",cc.find("Canvas/Prev").getComponent(cc.Button).clickEvents.push(e)},e.prototype.loadNextInstructions=function(){cc.director.loadScene("instructions - minimap")},e.prototype.loadPrevInstructions=function(){cc.director.loadScene("instructions - option 1")},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],"Instructions-win":[function(t,e,o){"use strict";cc._RF.push(e,"56f80q/EatFCbeSiWk7QmlG","Instructions-win");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.initButtons()},e.prototype.start=function(){},e.prototype.initButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Instructions-win",t.handler="loadNextInstructions",cc.find("Return").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="Instructions-win",e.handler="loadPrevInstructions",cc.find("Prev").getComponent(cc.Button).clickEvents.push(e)},e.prototype.loadNextInstructions=function(){cc.director.loadScene("menu")},e.prototype.loadPrevInstructions=function(){cc.director.loadScene("instructions - minimap")},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Instructions:[function(t,e,o){"use strict";cc._RF.push(e,"ac5774pRQxFAoe9Jsb1z4uA","Instructions");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.initButtons()},e.prototype.start=function(){},e.prototype.initButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Instructions",t.handler="loadNextInstructions",cc.find("Next").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="Instructions",e.handler="loadPrevInstructions",cc.find("Prev").getComponent(cc.Button).clickEvents.push(e)},e.prototype.loadNextInstructions=function(){cc.director.loadScene("instructions - option 1")},e.prototype.loadPrevInstructions=function(){cc.director.loadScene("instructions")},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Lobby:[function(t,e,o){"use strict";cc._RF.push(e,"e3d3fFcdjFPsb/d72VJtD3R","Lobby");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map1=null,e.map2=null,e}return i(e,t),e.prototype.start=function(){this.mouseOn()},e.prototype.loadScene=function(t){cc.director.loadScene("loading",function(){cc.director.loadScene(t)})},e.prototype.mouseOn=function(){var t=this;this.map1.node.on(cc.Node.EventType.MOUSE_DOWN,function(){t.loadScene("map1")}),this.map2.node.on(cc.Node.EventType.MOUSE_DOWN,function(){t.loadScene("map2")})},c([s(cc.Button)],e.prototype,"map1",void 0),c([s(cc.Button)],e.prototype,"map2",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],MainMenu:[function(t,e,o){"use strict";cc._RF.push(e,"7729bMu5yhNyIrF8qYicDpz","MainMenu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm=null,e}return i(e,t),e.prototype.initSignUpBtn=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="MainMenu",t.handler="signUp",cc.find("Canvas/Background/Block/Big Layout/SignUpBtn").getComponent(cc.Button).clickEvents.push(t)},e.prototype.signUp=function(){cc.director.loadScene("sign up")},e.prototype.initSignInBtn=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="MainMenu",t.handler="signIn",cc.find("Canvas/Background/Block/Big Layout/SignInBtn").getComponent(cc.Button).clickEvents.push(t)},e.prototype.signIn=function(){cc.director.loadScene("sign in")},e.prototype.playBGM=function(){cc.audioEngine.playMusic(this.bgm,!0)},e.prototype.onLoad=function(){this.playBGM(),this.initSignUpBtn(),this.initSignInBtn()},e.prototype.start=function(){},e.prototype.update=function(){},c([s(cc.AudioClip)],e.prototype,"bgm",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Menu:[function(t,e,o){"use strict";cc._RF.push(e,"4c768amPVpFL4Dw/rwyD4dp","Menu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r},r=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,c){function r(t){try{s(n.next(t))}catch(e){c(e)}}function a(t){try{s(n.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(r,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],n=0}finally{o=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,p=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm=null,e}return i(e,t),e.prototype.onLoad=function(){cc.audioEngine.isMusicPlaying()||this.playBGM(),this.loadUserStats(),this.initMenuButtons(),this.initSettingsMenuButtons()},e.prototype.start=function(){},e.prototype.playBGM=function(){cc.audioEngine.playMusic(this.bgm,!0)},e.prototype.loadUserStats=function(){return r(this,void 0,void 0,function(){var t,e=this;return a(this,function(o){switch(o.label){case 0:return(t=firebase.auth().currentUser)?[4,firebase.database().ref("userData/"+t.uid).once("value").then(function(t){e.setUserStat(t.val().coin,t.val().gem,t.val().char1,t.val().char2,t.val().char3,t.val().char4,t.val().AK47,t.val().AR,t.val().grenade,t.val().shotgun,t.val().sniper,t.val().purple,t.val().forest,t.val().username)})]:[3,2];case 1:return o.sent(),[3,3];case 2:this.setUserStat(0,0,!0,!1,!1,!1,!0,!1,!1,!1,!1,!0,!1,""),o.label=3;case 3:return[2]}})})},e.prototype.setUserStat=function(t,e,o,n,i,c,r,a,s,p,l,u,h,d){cc.sys.localStorage.setItem("coin",t),cc.sys.localStorage.setItem("gem",e),cc.sys.localStorage.setItem("char1",o),cc.sys.localStorage.setItem("char2",n),cc.sys.localStorage.setItem("char3",i),cc.sys.localStorage.setItem("char4",c),cc.sys.localStorage.setItem("AK47",r),cc.sys.localStorage.setItem("AR",a),cc.sys.localStorage.setItem("grenade",s),cc.sys.localStorage.setItem("shotgun",p),cc.sys.localStorage.setItem("sniper",l),cc.sys.localStorage.setItem("purple",u),cc.sys.localStorage.setItem("forest",h),cc.sys.localStorage.setItem("username",d)},e.prototype.initMenuButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Menu",t.handler="loadInstructions",cc.find("HowToPlay").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="Menu",e.handler="loadPlayInstructions",cc.find("YellowButton").getComponent(cc.Button).clickEvents.push(e);var o=new cc.Component.EventHandler;o.target=this.node,o.component="Menu",o.handler="loadPlayInstructions",cc.find("YellowButton/Play").getComponent(cc.Button).clickEvents.push(o);var n=new cc.Component.EventHandler;n.target=this.node,n.component="Menu",n.handler="settings",cc.find("SettingsBtn").getComponent(cc.Button).clickEvents.push(n);var i=new cc.Component.EventHandler;i.target=this.node,i.component="Menu",i.handler="loadShop",cc.find("shop").getComponent(cc.Button).clickEvents.push(i);var c=new cc.Component.EventHandler;c.target=this.node,c.component="Menu",c.handler="loadQuitGame",cc.find("X button").getComponent(cc.Button).clickEvents.push(c)},e.prototype.loadShop=function(){cc.director.loadScene("shop")},e.prototype.loadQuitGame=function(){firebase.auth().signOut().then(function(){cc.director.loadScene("main menu")})},e.prototype.loadInstructions=function(){cc.director.loadScene("instructions")},e.prototype.loadPlayInstructions=function(){cc.director.loadScene("player choose")},e.prototype.settings=function(){cc.find("Settings Menu").active=!0},e.prototype.initSettingsMenuButtons=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Menu",t.handler="close",cc.find("Settings Menu/closeBtn").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="Menu",e.handler="bgMute",cc.find("Settings Menu/Big Layout/BG Mute/bgMuteBtn").getComponent(cc.Button).clickEvents.push(e);var o=new cc.Component.EventHandler;o.target=this.node,o.component="Menu",o.handler="sfxMute",cc.find("Settings Menu/Big Layout/SFX Mute/sfxMuteBtn").getComponent(cc.Button).clickEvents.push(o);var n=new cc.Component.EventHandler;n.target=this.node,n.component="Menu",n.handler="changeBgVol",cc.find("Settings Menu/Big Layout/BG Volume/bgSlider").getComponent(cc.Slider).slideEvents.push(n);var i=new cc.Component.EventHandler;i.target=this.node,i.component="Menu",i.handler="changeSfxVol",cc.find("Settings Menu/Big Layout/SFX Volume/sfxSlider").getComponent(cc.Slider).slideEvents.push(i)},e.prototype.close=function(){cc.find("Settings Menu").active=!1},e.prototype.bgMute=function(){cc.audioEngine.setMusicVolume(0)},e.prototype.sfxMute=function(){cc.audioEngine.setEffectsVolume(0)},e.prototype.changeBgVol=function(){var t=cc.find("Settings Menu/Big Layout/BG Volume/bgSlider").getComponent(cc.Slider).progress;cc.audioEngine.setMusicVolume(t)},e.prototype.changeSfxVol=function(){var t=cc.find("Settings Menu/Big Layout/SFX Volume/sfxSlider").getComponent(cc.Slider).progress;cc.audioEngine.setEffectsVolume(t)},c([l(cc.AudioClip)],e.prototype,"bgm",void 0),c([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],MiniCam:[function(t,e,o){"use strict";cc._RF.push(e,"b30ffBBZ6hNbqpVu0U3EK/0","MiniCam");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainCam=null,e.offset=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(){this.node.x=this.mainCam.getPosition().x-this.offset,this.node.x<250-this.offset?this.node.x=250-this.offset:this.node.x>1750&&(this.node.x=1750)},c([s(cc.Node)],e.prototype,"mainCam",void 0),c([s()],e.prototype,"offset",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],PlayerName:[function(t,e,o){"use strict";cc._RF.push(e,"2407dwrvvVBgI2Ai8hNPZ71","PlayerName");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.back=null,e.selectMap=null,e.player1=null,e.player2=null,e.player3=null,e.player4=null,e.playerNum=null,e.editBoxPath="Canvas/Frame/Layout/",e}return i(e,t),e.prototype.onLoad=function(){this.playerNum=cc.sys.localStorage.getItem("PlayerNum"),this.playerNum||(this.playerNum="2",cc.sys.localStorage.setItem("PlayerNum",2)),this.loadEditBox()},e.prototype.start=function(){this.mouseOn()},e.prototype.loadEditBox=function(){switch(console.log(this.playerNum),this.playerNum){case"4":cc.find(this.editBoxPath+"Player4").active=!0,cc.find(this.editBoxPath+"Player3").active=!0;case"3":cc.find(this.editBoxPath+"Player3").active=!0}},e.prototype.loadScene=function(t){cc.director.loadScene("loading",function(){cc.director.loadScene(t)})},e.prototype.mouseOn=function(){var t=this;this.back.node.on(cc.Node.EventType.MOUSE_DOWN,function(){t.loadScene("player choose")}),this.selectMap.node.on(cc.Node.EventType.MOUSE_DOWN,function(){t.setPlayerName(),t.loadScene("character choose")})},e.prototype.setPlayerName=function(){cc.sys.localStorage.setItem("Player 1 Name",this.player1.getComponentInChildren(cc.Label).string),cc.sys.localStorage.setItem("Player 2 Name",this.player2.getComponentInChildren(cc.Label).string),"3"!=this.playerNum&&"4"!=this.playerNum||cc.sys.localStorage.setItem("Player 3 Name",this.player3.getComponentInChildren(cc.Label).string),"4"==this.playerNum&&cc.sys.localStorage.setItem("Player 4 Name",this.player4.getComponentInChildren(cc.Label).string)},c([s(cc.Button)],e.prototype,"back",void 0),c([s(cc.Button)],e.prototype,"selectMap",void 0),c([s(cc.EditBox)],e.prototype,"player1",void 0),c([s(cc.EditBox)],e.prototype,"player2",void 0),c([s(cc.EditBox)],e.prototype,"player3",void 0),c([s(cc.EditBox)],e.prototype,"player4",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Playerchoose:[function(t,e,o){"use strict";cc._RF.push(e,"32f77ZjFDJJYqkCmT6dXvNX","Playerchoose");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Playerchoose",t.handler="loadTwoPlayers",cc.find("2button").getComponent(cc.Button).clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="Playerchoose",e.handler="loadThreePlayers",cc.find("3button").getComponent(cc.Button).clickEvents.push(e);var o=new cc.Component.EventHandler;o.target=this.node,o.component="Playerchoose",o.handler="loadFourPlayers",cc.find("4button").getComponent(cc.Button).clickEvents.push(o);var n=new cc.Component.EventHandler;n.target=this.node,n.component="Playerchoose",n.handler="loadQuitGame",cc.find("X button").getComponent(cc.Button).clickEvents.push(n)},e.prototype.loadTwoPlayers=function(){cc.sys.localStorage.setItem("PlayerNum",2),cc.director.loadScene("player name")},e.prototype.loadThreePlayers=function(){cc.sys.localStorage.setItem("PlayerNum",3),cc.director.loadScene("player name")},e.prototype.loadFourPlayers=function(){cc.sys.localStorage.setItem("PlayerNum",4),cc.director.loadScene("player name")},e.prototype.loadTeamPlayers=function(){cc.sys.localStorage.setItem("PlayerNum",4),cc.director.loadScene("player name")},e.prototype.loadQuitGame=function(){cc.director.loadScene("menu")},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"79d84uofUZJnoN7h0LOvIwJ","Player");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jumpAudio=null,e.dieAudio=null,e.walkAudio=null,e.bulletPrefab=null,e.bombPrefab=null,e.damageParc=null,e.damageEffAnim=null,e.line=null,e.playerName=null,e.playerNumber=null,e.playerChar=null,e.aimLabel=null,e.totalPlayer=null,e.moveSpeed=300,e.moveDirection=0,e.changeDirection=0,e.jumpVelocity=2e3,e.jump=!1,e.isOnGround=!1,e.isDie=!1,e.isMove=!1,e.animation=null,e.animationState=null,e.rigidBody=null,e.win=!1,e.shoot=!1,e.bombPool=null,e.bomb=!1,e.angle=null,e.power=null,e.maxHP=100,e.HP=100,e.hurt=!1,e.weapon="gun",e.gunType="normal",e.currWeaponNum="0",e.aim=!1,e.skill="none",e.speedVec=1,e.hpVec=0,e.sfx_hit=null,e}return i(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation),this.rigidBody=this.node.getComponent(cc.RigidBody),this.playerName=this.node.getChildByName("Player Name"),this.playerNumber=this.node.getChildByName("Player Number"),this.line=this.node.getChildByName("Trajectory Line"),this.aimLabel=this.node.getChildByName("Aim Bomb Layout"),this.setPlayerName(),this.setPlayerChar(),this.bombPool=new cc.NodePool("Bomb");for(var t=0;t<5;t++){var e=cc.instantiate(this.bombPrefab);this.bombPool.put(e)}},e.prototype.start=function(){},e.prototype.update=function(t){this.win||this.isDie||(cc.find("Player Health/bar",this.node).width=this.HP/this.maxHP*100,this.playerMove(t),this.HP<=0?this.playerDie():(this.jump&&this.playerJump(),this.shoot?this.createBullet(this.gunType):this.bomb&&this.createBomb(),this.playerAnimation()))},e.prototype.onBeginContact=function(t,e,o){var n=this;if(t.getWorldManifold().normal.y<0&&(this.isOnGround=!0),"bullet"==o.node.group||"explosiveObj"==o.node.group||"bomb"==o.node.group){if(!this.isDie){if(cc.audioEngine.playEffect(this.sfx_hit,!1),console.log(this.HP,"before"),this.HP-="explosiveObj"==o.node.group?this.changeHp(25):this.changeHp(10),this.HP+=7*this.hpVec,console.log(this.HP,"after"),this.HP<=0?this.HP=0:(this.hurt=!0,"char1"==this.playerChar&&0!=this.HP?this.animationState=this.animation.play("char1hurt"):"char2"==this.playerChar&&0!=this.HP?this.animationState=this.animation.play("char2hurt"):"char3"==this.playerChar&&0!=this.HP?this.animationState=this.animation.play("char3hurt"):"char4"==this.playerChar&&0!=this.HP&&(this.animationState=this.animation.play("char4hurt")),this.scheduleOnce(function(){n.hurt=!1},.5)),"bullet"==o.node.group){var i=cc.instantiate(this.damageParc);i.parent=cc.director.getScene(),i.setPosition(o.node.getPosition().addSelf(cc.v2(480,320))),this.scheduleOnce(function(){i.destroy()},.6)}if("bomb"==o.node.group){var c=cc.instantiate(this.damageEffAnim);c.parent=cc.director.getScene(),c.setPosition(o.node.getPosition().addSelf(cc.v2(480,320))),this.scheduleOnce(function(){c.destroy()},.4)}}}else"wall"==o.node.group&&"Die Boundary"==o.node.name&&this.playerDie();if("weaponObj"==o.node.group)switch(this.currWeaponNum=o.node.getComponent("weaponObj").getWeaponType(),this.currWeaponNum){case"0":this.weapon="gun",this.gunType="normal";break;case"1":this.weapon="gun",this.gunType="burst";break;case"2":this.weapon="bomb";break;case"3":this.weapon="gun",this.gunType="shotgun";break;case"4":this.weapon="gun",this.gunType="sniper"}"itemObj"==o.node.group&&(this.HP+=30,this.HP>100&&(this.HP=100))},e.prototype.playerMove=function(t){this.node.x+=this.moveSpeed*this.speedVec*this.moveDirection*t,this.isMove=0!=this.moveDirection,1==this.moveDirection||1==this.changeDirection?(this.node.scaleX=1,this.playerName.scaleX=1,cc.find("Player Health",this.node).scaleX=1,this.aimLabel.active&&(this.aimLabel.scaleX=1)):-1!=this.moveDirection&&-1!=this.changeDirection||(this.node.scaleX=-1,this.playerName.scaleX=-1,cc.find("Player Health",this.node).scaleX=-1,this.aimLabel.active&&(this.aimLabel.scaleX=-1))},e.prototype.playerJump=function(){this.isOnGround&&(cc.audioEngine.playEffect(this.jumpAudio,!1),this.rigidBody.linearVelocity=cc.v2(0,this.jumpVelocity),this.isOnGround=!1,cc.audioEngine.playEffect(this.jumpAudio,!1),this.animationState=this.animation.play("char1jump"))},e.prototype.createBullet=function(t){var e=this;if(this.shoot=!1,this.scheduleOnce(function(){e.aim=!1},.5),"normal"==t)null!=(i=cc.instantiate(this.bulletPrefab))&&(i.getComponent("Bullet").setAngle(this.angle),i.getComponent("Bullet").init(this.node,1e3));else if("burst"==t)this.schedule(function(){var t=cc.instantiate(this.bulletPrefab);null!=t&&(t.getComponent("Bullet").setAngle(this.angle),t.getComponent("Bullet").init(this.node,1e3))},.05,2);else if("shotgun"==t)for(var o=-.1,n=0;n<3;n++)null!=(i=cc.instantiate(this.bulletPrefab))&&(i.getComponent("Bullet").setAngle(this.angle+o),i.getComponent("Bullet").init(this.node,1e3),o+=.05);else if("sniper"==t){var i;null!=(i=cc.instantiate(this.bulletPrefab))&&(i.getComponent("Bullet").setAngle(this.angle),i.getComponent("Bullet").init(this.node,2e3))}},e.prototype.createBomb=function(){this.bomb=!1;var t=null;this.bombPool.size()>0&&(t=this.bombPool.get(this.bombPool)),null!=t&&(t.getComponent("Bomb").setAnglePower(this.angle,this.power),t.getComponent("Bomb").init(this.node))},e.prototype.playerDie=function(){this.isDie=!0,cc.audioEngine.playEffect(this.dieAudio,!1),"char1"==this.playerChar?(this.animation.stop("char1idle"),this.animationState=this.animation.play("char1dead")):"char2"==this.playerChar?(this.animation.stop("char2idle"),this.animationState=this.animation.play("char2dead")):"char3"==this.playerChar?(this.animation.stop("char3idle"),this.animationState=this.animation.play("char3dead")):"char4"==this.playerChar&&(this.animation.stop("char4idle"),this.animationState=this.animation.play("char4dead")),this.scheduleOnce(function(){this.node.destroy()},1),cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("score",1e4),cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("gem",50),cc.find("Canvas/Main Camera/UI").getComponent("UI").updateRecord("coin",500),cc.audioEngine.playEffect(this.dieAudio,!1),cc.find("Canvas/Game Manager").getComponent("GameManager").playerDie()},e.prototype.playerAnimation=function(){this.isDie||("char1"==this.playerChar?!this.isOnGround||this.isMove||this.hurt||this.aim||this.animationState&&"char1idle"==this.animationState.name?!this.isOnGround||!this.aim||this.animationState&&"char1aim"==this.animationState.name?!this.isOnGround||!this.isMove||this.animationState&&"char1run"==this.animationState.name?this.isOnGround||this.animationState&&"char1jump"==this.animationState.name||(this.animationState=this.animation.play("char1jump")):this.animationState=this.animation.play("char1run"):this.animationState=this.animation.play("char1aim"):this.animationState=this.animation.play("char1idle"):"char2"==this.playerChar?!this.isOnGround||this.isMove||this.hurt||this.aim||this.animationState&&"char2idle"==this.animationState.name?!this.isOnGround||!this.aim||this.animationState&&"char2aim"==this.animationState.name?!this.isOnGround||!this.isMove||this.animationState&&"char2run"==this.animationState.name?this.isOnGround||this.animationState&&"char2jump"==this.animationState.name||(this.animationState=this.animation.play("char2jump")):this.animationState=this.animation.play("char2run"):this.animationState=this.animation.play("char2aim"):this.animationState=this.animation.play("char2idle"):"char3"==this.playerChar?!this.isOnGround||this.isMove||this.hurt||this.aim||this.animationState&&"char3idle"==this.animationState.name?!this.isOnGround||!this.aim||this.animationState&&"char3aim"==this.animationState.name?!this.isOnGround||!this.isMove||this.animationState&&"char3run"==this.animationState.name?this.isOnGround||this.animationState&&"char3jump"==this.animationState.name||(this.animationState=this.animation.play("char3jump")):this.animationState=this.animation.play("char3run"):this.animationState=this.animation.play("char3aim"):this.animationState=this.animation.play("char3idle"):"char4"==this.playerChar&&(!this.isOnGround||this.isMove||this.hurt||this.aim||this.animationState&&"char4idle"==this.animationState.name?!this.isOnGround||!this.aim||this.animationState&&"char4aim"==this.animationState.name?!this.isOnGround||!this.isMove||this.animationState&&"char4run"==this.animationState.name?this.isOnGround||this.animationState&&"char4jump"==this.animationState.name||(this.animationState=this.animation.play("char4jump")):this.animationState=this.animation.play("char4run"):this.animationState=this.animation.play("char4aim"):this.animationState=this.animation.play("char4idle")))},e.prototype.setPlayerMoveDirection=function(t){this.moveDirection=t},e.prototype.setPlayerChangeDirection=function(t){this.changeDirection=t},e.prototype.setPlayerJump=function(t){this.jump=t},e.prototype.setPlayerShoot=function(t){this.angle=t,this.shoot=!0},e.prototype.setPlayerBomb=function(t){this.angle=t,this.bomb=!0},e.prototype.setPlayerName=function(){"Player 1"==this.node.name?this.playerName.getComponent(cc.Label).string=cc.sys.localStorage.getItem("Player 1 Name"):"Player 2"==this.node.name?this.playerName.getComponent(cc.Label).string=cc.sys.localStorage.getItem("Player 2 Name"):"Player 3"==this.node.name?this.playerName.getComponent(cc.Label).string=cc.sys.localStorage.getItem("Player 3 Name"):"Player 4"==this.node.name&&(this.playerName.getComponent(cc.Label).string=cc.sys.localStorage.getItem("Player 4 Name"))},e.prototype.setPlayerChar=function(){"Player 1"==this.node.name?this.playerChar=cc.sys.localStorage.getItem("Player 1 Char"):"Player 2"==this.node.name?this.playerChar=cc.sys.localStorage.getItem("Player 2 Char"):"Player 3"==this.node.name?this.playerChar=cc.sys.localStorage.getItem("Player 3 Char"):"Player 4"==this.node.name&&(this.playerChar=cc.sys.localStorage.getItem("Player 4 Char")),this.setSkill(this.playerChar)},e.prototype.getCurrWeaponNum=function(){return this.currWeaponNum},e.prototype.setSkill=function(t){switch(t){case"char1":this.skill="none";break;case"char2":this.skill="speed",this.speedVec=1.5;break;case"char3":this.skill="health",this.hpVec=1;break;case"char4":this.skill="damage";break;default:this.skill="none"}},e.prototype.changeHp=function(t){var e=t;return 3==cc.find("Canvas/Game Manager").getComponent("GameManager").getCurrPlayer()&&25!=t&&(e+=10),e},c([s(cc.AudioClip)],e.prototype,"jumpAudio",void 0),c([s(cc.AudioClip)],e.prototype,"dieAudio",void 0),c([s(cc.AudioClip)],e.prototype,"walkAudio",void 0),c([s(cc.Prefab)],e.prototype,"bulletPrefab",void 0),c([s(cc.Prefab)],e.prototype,"bombPrefab",void 0),c([s(cc.Prefab)],e.prototype,"damageParc",void 0),c([s(cc.Prefab)],e.prototype,"damageEffAnim",void 0),c([s(cc.AudioClip)],e.prototype,"sfx_hit",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],SelectChar:[function(t,e,o){"use strict";cc._RF.push(e,"989f3Nf5mRAapnGdIatcBg9","SelectChar");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm=null,e.click=null,e.player1Name=null,e.player2Name=null,e.player3Name=null,e.player4Name=null,e.player3=null,e.player4=null,e.back=null,e.next=null,e.p1c1=null,e.p1c2=null,e.p1c3=null,e.p1c4=null,e.p2c1=null,e.p2c2=null,e.p2c3=null,e.p2c4=null,e.p3c1=null,e.p3c2=null,e.p3c3=null,e.p3c4=null,e.p4c1=null,e.p4c2=null,e.p4c3=null,e.p4c4=null,e.char1="true",e.char2="false",e.char3="false",e.char4="false",e.playerNum=null,e}return i(e,t),e.prototype.onLoad=function(){cc.audioEngine.isMusicPlaying()||this.playBGM(),this.playerNum=cc.sys.localStorage.getItem("PlayerNum"),this.resetPlayerChar(),this.setTotalPlayer(),this.loadPlayerName(),this.setUserStats(),this.loadCharBtn()},e.prototype.start=function(){this.menuMouseOn()},e.prototype.playBGM=function(){cc.audioEngine.playMusic(this.bgm,!0)},e.prototype.resetPlayerChar=function(){cc.sys.localStorage.setItem("Player 1 Char","char1"),cc.sys.localStorage.setItem("Player 2 Char","char1"),cc.sys.localStorage.setItem("Player 3 Char","char1"),cc.sys.localStorage.setItem("Player 4 Char","char1")},e.prototype.setUserStats=function(){this.char1=cc.sys.localStorage.getItem("char1"),this.char2=cc.sys.localStorage.getItem("char2"),this.char3=cc.sys.localStorage.getItem("char3"),this.char4=cc.sys.localStorage.getItem("char4")},e.prototype.menuMouseOn=function(){var t=this;this.back.node.on(cc.Node.EventType.MOUSE_DOWN,function(){t.playClickAudio(),t.loadScene("player name")}),this.next.node.on(cc.Node.EventType.MOUSE_DOWN,function(){t.playClickAudio(),t.loadScene("map choose")}),this.p1c1.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char1&&(t.playClickAudio(),t.selected("char1","1"))}),this.p1c2.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char2&&(t.playClickAudio(),t.selected("char2","1"))}),this.p1c3.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char3&&(t.playClickAudio(),t.selected("char3","1"))}),this.p1c4.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char4&&(t.playClickAudio(),t.selected("char4","1"))}),this.p2c1.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char1&&(t.playClickAudio(),t.selected("char1","2"))}),this.p2c2.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char2&&(t.playClickAudio(),t.selected("char2","2"))}),this.p2c3.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char3&&(t.playClickAudio(),t.selected("char3","2"))}),this.p2c4.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char4&&(t.playClickAudio(),t.selected("char4","2"))}),"3"!=this.playerNum&&"4"!=this.playerNum||(this.p3c1.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char1&&(t.playClickAudio(),t.selected("char1","3"))}),this.p3c2.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char2&&(t.playClickAudio(),t.selected("char2","3"))}),this.p3c3.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char3&&(t.playClickAudio(),t.selected("char3","3"))}),this.p3c4.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char4&&(t.playClickAudio(),t.selected("char4","3"))})),"4"==this.playerNum&&(this.p4c1.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char1&&(t.playClickAudio(),t.selected("char1","4"))}),this.p4c2.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char2&&(t.playClickAudio(),t.selected("char2","4"))}),this.p4c3.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char3&&(t.playClickAudio(),t.selected("char3","4"))}),this.p4c4.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.char4&&(t.playClickAudio(),t.selected("char4","4"))}))},e.prototype.playClickAudio=function(){cc.audioEngine.playEffect(this.click,!1)},e.prototype.loadScene=function(t){cc.director.loadScene(t)},e.prototype.loadCharBtn=function(){"true"==this.char1&&(this.lockBtn(this.p1c1),this.lockBtn(this.p2c1),this.player3.active&&this.lockBtn(this.p3c1),this.player4.active&&this.lockBtn(this.p4c1)),"true"==this.char2&&(this.lockBtn(this.p1c2),this.lockBtn(this.p2c2),this.player3.active&&this.lockBtn(this.p3c2),this.player4.active&&this.lockBtn(this.p4c2)),"true"==this.char3&&(this.lockBtn(this.p1c3),this.lockBtn(this.p2c3),this.player3.active&&this.lockBtn(this.p3c3),this.player4.active&&this.lockBtn(this.p4c3)),"true"==this.char4&&(this.lockBtn(this.p1c4),this.lockBtn(this.p2c4),this.player3.active&&this.lockBtn(this.p3c4),this.player4.active&&this.lockBtn(this.p4c4))},e.prototype.lockBtn=function(t){t.node.getChildByName("LockedBackground").active=!1},e.prototype.selected=function(t,e){cc.sys.localStorage.setItem("Player "+e+" Char",t)},e.prototype.setTotalPlayer=function(){"2"==this.playerNum?(this.player3.active=!1,this.player4.active=!1):"3"==this.playerNum&&(this.player4.active=!1)},e.prototype.loadPlayerName=function(){this.player1Name.string=cc.sys.localStorage.getItem("Player 1 Name"),this.player2Name.string=cc.sys.localStorage.getItem("Player 2 Name"),this.player3.active&&(this.player3Name.string=cc.sys.localStorage.getItem("Player 3 Name")),this.player4.active&&(this.player4Name.string=cc.sys.localStorage.getItem("Player 4 Name"))},c([s(cc.AudioClip)],e.prototype,"bgm",void 0),c([s(cc.AudioClip)],e.prototype,"click",void 0),c([s(cc.Label)],e.prototype,"player1Name",void 0),c([s(cc.Label)],e.prototype,"player2Name",void 0),c([s(cc.Label)],e.prototype,"player3Name",void 0),c([s(cc.Label)],e.prototype,"player4Name",void 0),c([s(cc.Node)],e.prototype,"player3",void 0),c([s(cc.Node)],e.prototype,"player4",void 0),c([s(cc.Button)],e.prototype,"back",void 0),c([s(cc.Button)],e.prototype,"next",void 0),c([s(cc.Button)],e.prototype,"p1c1",void 0),c([s(cc.Button)],e.prototype,"p1c2",void 0),c([s(cc.Button)],e.prototype,"p1c3",void 0),c([s(cc.Button)],e.prototype,"p1c4",void 0),c([s(cc.Button)],e.prototype,"p2c1",void 0),c([s(cc.Button)],e.prototype,"p2c2",void 0),c([s(cc.Button)],e.prototype,"p2c3",void 0),c([s(cc.Button)],e.prototype,"p2c4",void 0),c([s(cc.Button)],e.prototype,"p3c1",void 0),c([s(cc.Button)],e.prototype,"p3c2",void 0),c([s(cc.Button)],e.prototype,"p3c3",void 0),c([s(cc.Button)],e.prototype,"p3c4",void 0),c([s(cc.Button)],e.prototype,"p4c1",void 0),c([s(cc.Button)],e.prototype,"p4c2",void 0),c([s(cc.Button)],e.prototype,"p4c3",void 0),c([s(cc.Button)],e.prototype,"p4c4",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Shop:[function(t,e,o){"use strict";cc._RF.push(e,"3373bG9WWpI86304iTsPnk6","Shop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm=null,e.click=null,e.coin=null,e.gem=null,e.back=null,e.characters=null,e.weapons=null,e.maps=null,e.char1btn=null,e.char2btn=null,e.char3btn=null,e.char4btn=null,e.AKbtn=null,e.ARbtn=null,e.grenadebtn=null,e.shotgunbtn=null,e.sniperbtn=null,e.purplebtn=null,e.junglebtn=null,e.char1="true",e.char2="false",e.char3="false",e.char4="false",e.AK="true",e.AR="false",e.grenade="false",e.shotgun="false",e.sniper="false",e.purple="false",e.jungle="false",e}return i(e,t),e.prototype.onLoad=function(){cc.audioEngine.isMusicPlaying()||this.playBGM(),this.setUserStats()},e.prototype.start=function(){this.menuMouseOn()},e.prototype.playBGM=function(){cc.audioEngine.playMusic(this.bgm,!0)},e.prototype.setUserStats=function(){this.coin.string=cc.sys.localStorage.getItem("coin"),this.gem.string=cc.sys.localStorage.getItem("gem"),this.coin.string||(this.coin.string="0"),this.gem.string||(this.gem.string="0"),this.char1=cc.sys.localStorage.getItem("char1"),this.char2=cc.sys.localStorage.getItem("char2"),this.char3=cc.sys.localStorage.getItem("char3"),this.char4=cc.sys.localStorage.getItem("char4"),this.AK=cc.sys.localStorage.getItem("AK47"),this.AR=cc.sys.localStorage.getItem("AR"),this.grenade=cc.sys.localStorage.getItem("grenade"),this.shotgun=cc.sys.localStorage.getItem("shotgun"),this.sniper=cc.sys.localStorage.getItem("sniper"),this.purple=cc.sys.localStorage.getItem("purple"),this.jungle=cc.sys.localStorage.getItem("forest"),this.loadCharBtn()},e.prototype.menuMouseOn=function(){var t=this;this.back.node.on(cc.Node.EventType.MOUSE_DOWN,function(){t.playClickAudio(),t.loadScene("menu")}),this.characters.on(cc.Node.EventType.MOUSE_DOWN,function(){t.playClickAudio()}),this.weapons.on(cc.Node.EventType.MOUSE_DOWN,function(){t.playClickAudio()}),this.maps.on(cc.Node.EventType.MOUSE_DOWN,function(){t.playClickAudio()}),this.char1btn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.char1&&(t.playClickAudio(),t.buyItemGem(t.char1btn,"char1"))}),this.char2btn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.char2&&(t.playClickAudio(),t.buyItemGem(t.char2btn,"char2"))}),this.char3btn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.char3&&(t.playClickAudio(),t.buyItemGem(t.char3btn,"char3"))}),this.char4btn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.char4&&(t.playClickAudio(),t.buyItemGem(t.char4btn,"char4"))}),this.AKbtn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.AK&&(t.playClickAudio(),t.buyItemGem(t.AKbtn,"AK47"))}),this.ARbtn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.AR&&(t.playClickAudio(),t.buyItemGem(t.ARbtn,"AR"))}),this.grenadebtn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.grenade&&(t.playClickAudio(),t.buyItemGem(t.grenadebtn,"grenade"))}),this.shotgunbtn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.AR&&(t.playClickAudio(),t.buyItemGem(t.shotgunbtn,"shotgun"))}),this.sniperbtn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.sniper&&(t.playClickAudio(),t.buyItemGem(t.sniperbtn,"sniper"))}),this.purplebtn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.purple&&(t.playClickAudio(),t.buyItemCoin(t.purplebtn,"purple"))}),this.junglebtn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"!=t.jungle&&(t.playClickAudio(),t.buyItemCoin(t.junglebtn,"forest"))})},e.prototype.playClickAudio=function(){cc.audioEngine.playEffect(this.click,!1)},e.prototype.loadScene=function(t){cc.director.loadScene(t)},e.prototype.loadCharBtn=function(){"true"==this.char1&&this.lockBtn(this.char1btn),"true"==this.char2&&this.lockBtn(this.char2btn),"true"==this.char3&&this.lockBtn(this.char3btn),"true"==this.char4&&this.lockBtn(this.char4btn),"true"==this.AK&&this.lockBtn(this.AKbtn),"true"==this.AR&&this.lockBtn(this.ARbtn),"true"==this.grenade&&this.lockBtn(this.grenadebtn),"true"==this.shotgun&&this.lockBtn(this.shotgunbtn),"true"==this.sniper&&this.lockBtn(this.sniperbtn),"true"==this.purple&&this.lockBtn(this.purplebtn),"true"==this.jungle&&this.lockBtn(this.junglebtn)},e.prototype.lockBtn=function(t){t.node.off(cc.Node.EventType.MOUSE_DOWN),t.interactable=!1,t.enableAutoGrayEffect=!0,this.changePrice(t)},e.prototype.changePrice=function(t){t.node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="SOLD"},e.prototype.buyItemGem=function(t,e){var o=parseInt(t.node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string),n=parseInt(this.gem.string);if(n>=o){var i=n-o;this.gem.string=i.toString(),cc.sys.localStorage.setItem("gem",this.gem.string),cc.sys.localStorage.setItem(e,!0),this.updateDatabase(e,!0),this.updateDatabase("gem",i),this.setUserStats()}},e.prototype.buyItemCoin=function(t,e){var o=parseInt(t.node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string),n=parseInt(this.coin.string);if(n>=o){var i=n-o;this.coin.string=i.toString(),cc.sys.localStorage.setItem("coin",this.coin.string),cc.sys.localStorage.setItem(e,!0),this.updateDatabase(e,!0),this.updateDatabase("coin",i),this.setUserStats()}},e.prototype.updateDatabase=function(t,e){var o=firebase.auth().currentUser;if(o){var n=void 0;switch(t){case"AK47":n={AK47:e};break;case"AR":n={AR:e};break;case"char1":n={char1:e};break;case"char2":n={char2:e};break;case"char3":n={char3:e};break;case"char4":n={char4:e};break;case"coin":n={coin:e};break;case"forest":n={forest:e};break;case"gem":n={gem:e};break;case"grenade":n={grenade:e};break;case"purple":n={purple:e};break;case"shotgun":n={shotgun:e};break;case"sniper":n={sniper:e}}return firebase.database().ref("userData/"+o.uid).update(n)}},c([s(cc.AudioClip)],e.prototype,"bgm",void 0),c([s(cc.AudioClip)],e.prototype,"click",void 0),c([s(cc.Label)],e.prototype,"coin",void 0),c([s(cc.Label)],e.prototype,"gem",void 0),c([s(cc.Button)],e.prototype,"back",void 0),c([s(cc.Node)],e.prototype,"characters",void 0),c([s(cc.Node)],e.prototype,"weapons",void 0),c([s(cc.Node)],e.prototype,"maps",void 0),c([s(cc.Button)],e.prototype,"char1btn",void 0),c([s(cc.Button)],e.prototype,"char2btn",void 0),c([s(cc.Button)],e.prototype,"char3btn",void 0),c([s(cc.Button)],e.prototype,"char4btn",void 0),c([s(cc.Button)],e.prototype,"AKbtn",void 0),c([s(cc.Button)],e.prototype,"ARbtn",void 0),c([s(cc.Button)],e.prototype,"grenadebtn",void 0),c([s(cc.Button)],e.prototype,"shotgunbtn",void 0),c([s(cc.Button)],e.prototype,"sniperbtn",void 0),c([s(cc.Button)],e.prototype,"purplebtn",void 0),c([s(cc.Button)],e.prototype,"junglebtn",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],SignIn:[function(t,e,o){"use strict";cc._RF.push(e,"06ed0Oo1wFLHJ+J0nt3uw8e","SignIn");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initSignInBtn=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="SignIn",t.handler="signIn",cc.find("Canvas/Background/Block/Big Layout/SignInBtn").getComponent(cc.Button).clickEvents.push(t)},e.prototype.signIn=function(){var t=cc.find("Canvas/Background/Block/Big Layout/email").getComponent(cc.EditBox),e=cc.find("Canvas/Background/Block/Big Layout/password").getComponent(cc.EditBox),o=t.string,n=e.string;firebase.auth().signInWithEmailAndPassword(o,n).then(function(){cc.director.loadScene("menu")}).catch(function(t){alert(t.message)})},e.prototype.initBackBtn=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="SignIn",t.handler="back",cc.find("Canvas/Background/BackBtn").getComponent(cc.Button).clickEvents.push(t)},e.prototype.back=function(){cc.director.loadScene("main menu")},e.prototype.onLoad=function(){this.initSignInBtn(),this.initBackBtn()},e.prototype.start=function(){},e.prototype.update=function(){},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],SignUp:[function(t,e,o){"use strict";cc._RF.push(e,"7ec24PhK+tILbN1NyLkQ0+O","SignUp");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r},r=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,c){function r(t){try{s(n.next(t))}catch(e){c(e)}}function a(t){try{s(n.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(r,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],n=0}finally{o=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,p=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.username=null,e}return i(e,t),e.prototype.initSignUpBtn=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="SignUp",t.handler="signUp",cc.find("Canvas/Background/Block/Big Layout/SignUpBtn").getComponent(cc.Button).clickEvents.push(t)},e.prototype.signUp=function(){return r(this,void 0,void 0,function(){var t,e,o,n,i,c=this;return a(this,function(){return t=cc.find("Canvas/Background/Block/Big Layout/email").getComponent(cc.EditBox),e=cc.find("Canvas/Background/Block/Big Layout/username").getComponent(cc.EditBox),o=cc.find("Canvas/Background/Block/Big Layout/password").getComponent(cc.EditBox),n=t.string,e.string,i=o.string,firebase.auth().createUserWithEmailAndPassword(n,i).then(function(){alert("Sign Up Success!"),c.username=e.string,c.updateUserStats(0,0,!0,!1,!1,!1,!0,!1,!1,!1,!1,!0,!1,c.username),t.string="",e.string="",o.string=""}).catch(function(t){alert(t.message)}),[2]})})},e.prototype.initBackBtn=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="SignUp",t.handler="back",cc.find("Canvas/Background/BackBtn").getComponent(cc.Button).clickEvents.push(t)},e.prototype.back=function(){cc.director.loadScene("main menu")},e.prototype.onLoad=function(){this.initSignUpBtn(),this.initBackBtn()},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.updateUserStats=function(t,e,o,n,i,c,r,a,s,p,l,u,h,d){var y={coin:t,gem:e,char1:o,char2:n,char3:i,char4:c,AK47:r,AR:a,grenade:s,shotgun:p,sniper:l,purple:u,forest:h,username:d};return firebase.database().ref("userData/"+firebase.auth().currentUser.uid).update(y)},c([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],TrajectoryLine:[function(t,e,o){"use strict";cc._RF.push(e,"1aa02tB/qNC9aTto6FFiTAI","TrajectoryLine");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrowPrefab=null,e.crosshairPrefab=null,e.angle=null,e.power=null,e.label=null,e.line=null,e.arrow=null,e.crosshair=null,e}return i(e,t),e.prototype.onLoad=function(){this.line=this.node.getComponent(cc.Graphics)},e.prototype.start=function(){},e.prototype.drawStraightLine=function(t,e){this.line.clear(),this.line.lineWidth=5,this.line.lineCap=cc.Graphics.LineCap.ROUND;for(var o=Math.cos(t)*e,n=Math.sin(t)*e,i=9;i>=0;i--)this.line.moveTo(35+o-.1*o*(i+1),4+n-.1*n*(i+1)),this.line.lineTo(35+o-.1*o*i-o/9,4+n-.1*n*i-n/9);this.line.stroke()},e.prototype.drawCircle=function(t){if(this.crosshair){var e=180*t/Math.PI;this.crosshair.getComponent("Crosshair").crosshairMove(e)}else this.crosshair=cc.instantiate(this.crosshairPrefab),this.crosshair.getComponent("Crosshair").init(this.node)},e.prototype.drawCurveLine=function(t,e){if(this.arrow){e>100&&(e=100);var o=180*t/Math.PI;this.arrow.getComponent("Arrow").arrowMove(o),this.angle.string=Math.floor(o).toString(),this.power.string=e.toString()}else this.arrow=cc.instantiate(this.arrowPrefab),this.arrow.getComponent("Arrow").init(this.node),this.label.active=!0},e.prototype.clearLine=function(){this.line.clear(),this.label.active=!1,this.arrow?(this.arrow.destroy(),this.arrow=null):this.crosshair&&(this.crosshair.destroy(),this.crosshair=null)},c([s(cc.Prefab)],e.prototype,"arrowPrefab",void 0),c([s(cc.Prefab)],e.prototype,"crosshairPrefab",void 0),c([s(cc.Label)],e.prototype,"angle",void 0),c([s(cc.Label)],e.prototype,"power",void 0),c([s(cc.Node)],e.prototype,"label",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],UI:[function(t,e,o){"use strict";cc._RF.push(e,"2a1a9oNXDxKzbrPVKyv0YF2","UI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timer=null,e.scoreLabel=null,e.coinLabel=null,e.gemLabel=null,e.GameManager=null,e.timeout=!1,e.isWin=!1,e.currPlayer=1,e.score=0,e.coin=0,e.gem=0,e.freeze=!1,e}return i(e,t),e.prototype.start=function(){this.startTimer(20)},e.prototype.update=function(){this.timer.string=this.timerVal.toString(),cc.find("Canvas/Game Manager").getComponent("GameManager").getWin()&&(this.unschedule(this.countTimer),this.isWin=!0,this.timer.string="--")},e.prototype.startTimer=function(t){this.timerVal=t,this.schedule(this.countTimer,1)},e.prototype.countTimer=function(){cc.director.isPaused()||this.isWin||this.freeze||(this.timerVal--,this.timerVal<0&&(this.timeout=!0))},e.prototype.isTimeOut=function(){return this.timeout},e.prototype.pause=function(){cc.director.isPaused()?(cc.director.resume(),cc.find("Canvas/Main Camera/Pause Menu").active=!1):(cc.director.pause(),cc.find("Canvas/Main Camera/Pause Menu").active=!0)},e.prototype.getTime=function(){return this.timer.string},e.prototype.updateRecord=function(t,e){"score"==t?(this.score+=e,this.scoreLabel.string=String(this.score).padStart(8,"0")):"coin"==t?(this.coin+=e,this.coinLabel.string=String(this.coin)):"gem"==t&&(this.gem+=e,this.gemLabel.string=String(this.gem))},e.prototype.getRecord=function(t){return"score"==t?this.score:"coin"==t?this.coin:"gem"==t?this.gem:void 0},c([s(cc.Label)],e.prototype,"timer",void 0),c([s(cc.Label)],e.prototype,"scoreLabel",void 0),c([s(cc.Label)],e.prototype,"coinLabel",void 0),c([s(cc.Label)],e.prototype,"gemLabel",void 0),c([s(cc.Node)],e.prototype,"GameManager",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],WelcomeTxt:[function(t,e,o){"use strict";cc._RF.push(e,"046b0YkTu1HpZFfK/WiqXlN","WelcomeTxt");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=cc.sequence(cc.fadeIn(2),cc.fadeOut(2));this.node.runAction(t)},e.prototype.update=function(){},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Welcome:[function(t,e,o){"use strict";cc._RF.push(e,"cf3a7BcFn9CcrrZ2a8UzeK4","Welcome");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.schedule(function(){cc.director.loadScene("main menu")},4)},e.prototype.update=function(){},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Win:[function(t,e,o){"use strict";cc._RF.push(e,"cff5fpUDuZEtoxJXIiDrgz5","Win");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playername=null,e.playerimage=null,e.winnerScore=null,e.winnerGem=null,e.winnerCoin=null,e.GameManager=null,e.UI=null,e.char1=null,e.char2=null,e.char3=null,e.char4=null,e.gameover=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){if(this.gameover)this.scheduleOnce(function(){cc.director.loadScene("ending")},6);else if(cc.find("Canvas/Game Manager").getComponent("GameManager").getWin()){this.gameover=!0,this.playername.getComponent(cc.Label).string=cc.find("Canvas/Main Camera/UI/Profile/name").getComponent(cc.Label).string,this.winnerScore.string=cc.find("Canvas/Main Camera/UI").getComponent("UI").scoreLabel.string,this.winnerCoin.string=cc.find("Canvas/Main Camera/UI").getComponent("UI").coinLabel.string,this.winnerGem.string=cc.find("Canvas/Main Camera/UI").getComponent("UI").gemLabel.string,this.updateDatabase(),cc.find("Canvas/Main Camera/UI/Profile/face0").active&&(this.playerimage.getComponent(cc.Sprite).spriteFrame=this.char1),cc.find("Canvas/Main Camera/UI/Profile/face1").active&&(this.playerimage.getComponent(cc.Sprite).spriteFrame=this.char2),cc.find("Canvas/Main Camera/UI/Profile/face2").active&&(this.playerimage.getComponent(cc.Sprite).spriteFrame=this.char3),cc.find("Canvas/Main Camera/UI/Profile/face3").active&&(this.playerimage.getComponent(cc.Sprite).spriteFrame=this.char4),cc.find("Canvas/Main Camera/UI/Timer").active=!1,cc.find("Canvas/Main Camera/UI/Record").active=!1,cc.find("Canvas/Main Camera/UI/WeaponUi").active=!1,cc.find("Canvas/Main Camera/UI/Profile").active=!1;var t=cc.sequence(cc.fadeIn(2),cc.fadeOut(2));this.node.runAction(t)}},e.prototype.updateDatabase=function(){var t=parseInt(this.winnerCoin.string),e=parseInt(this.winnerGem.string),o=parseInt(cc.sys.localStorage.getItem("coin")),n=parseInt(cc.sys.localStorage.getItem("gem")),i=o+t;cc.sys.localStorage.setItem("coin",i);var c=n+e;cc.sys.localStorage.setItem("gem",c);var r=firebase.auth().currentUser;if(r){firebase.database().ref("userData/"+r.uid);var a={coin:i,gem:c};return firebase.database().ref("userData/"+r.uid).update(a)}},c([s(cc.Label)],e.prototype,"playername",void 0),c([s(cc.Node)],e.prototype,"playerimage",void 0),c([s(cc.Label)],e.prototype,"winnerScore",void 0),c([s(cc.Label)],e.prototype,"winnerGem",void 0),c([s(cc.Label)],e.prototype,"winnerCoin",void 0),c([s(cc.Node)],e.prototype,"GameManager",void 0),c([s(cc.Node)],e.prototype,"UI",void 0),c([s(cc.SpriteFrame)],e.prototype,"char1",void 0),c([s(cc.SpriteFrame)],e.prototype,"char2",void 0),c([s(cc.SpriteFrame)],e.prototype,"char3",void 0),c([s(cc.SpriteFrame)],e.prototype,"char4",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],chooseMap:[function(t,e,o){"use strict";cc._RF.push(e,"901b4glBGxClKjmrMmHjTra","chooseMap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm=null,e.click=null,e.back=null,e.map1btn=null,e.map2btn=null,e.map1="true",e.map2="false",e}return i(e,t),e.prototype.onLoad=function(){cc.audioEngine.isMusicPlaying()||this.playBGM(),this.loadMapAsset(),this.loadSelectMapBtn()},e.prototype.start=function(){this.menuMouseOn()},e.prototype.playBGM=function(){cc.audioEngine.playMusic(this.bgm,!0)},e.prototype.loadMapAsset=function(){this.map1=cc.sys.localStorage.getItem("purple"),this.map2=cc.sys.localStorage.getItem("forest")},e.prototype.loadSelectMapBtn=function(){"true"==this.map1&&this.lockBtn(this.map1btn),"true"==this.map2&&this.lockBtn(this.map2btn)},e.prototype.lockBtn=function(t){t.node.getChildByName("LockedBackground").active=!1},e.prototype.menuMouseOn=function(){var t=this;this.back.node.on(cc.Node.EventType.MOUSE_DOWN,function(){t.playClickAudio(),t.loadScene("character choose")}),this.map1btn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.map1&&(t.playClickAudio(),t.loadScene("map1"))}),this.map2btn.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"true"==t.map2&&(t.playClickAudio(),t.loadScene("map2"))})},e.prototype.playClickAudio=function(){cc.audioEngine.playEffect(this.click,!1)},e.prototype.loadScene=function(t){cc.audioEngine.stopAll(),cc.director.loadScene("loading",function(){cc.director.loadScene(t)})},c([s(cc.AudioClip)],e.prototype,"bgm",void 0),c([s(cc.AudioClip)],e.prototype,"click",void 0),c([s(cc.Button)],e.prototype,"back",void 0),c([s(cc.Button)],e.prototype,"map1btn",void 0),c([s(cc.Button)],e.prototype,"map2btn",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ending:[function(t,e,o){"use strict";cc._RF.push(e,"395d2AWB7BGAZmf42dY/OHG","ending");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map="map1",e.bgm=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.btnInit(),this.bgm&&cc.audioEngine.playMusic(this.bgm,!0)},e.prototype.update=function(){},e.prototype.btnInit=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="ending",t.handler="loadMap",cc.find("Canvas/Background/Replay").getComponent(cc.Button).clickEvents.push(t),(t=new cc.Component.EventHandler).target=this.node,t.component="ending",t.handler="quit",cc.find("Canvas/Background/Quit").getComponent(cc.Button).clickEvents.push(t),(t=new cc.Component.EventHandler).target=this.node,t.component="ending",t.handler="loadMainMenu",cc.find("Canvas/Background/Main Menu").getComponent(cc.Button).clickEvents.push(t)},e.prototype.loadMainMenu=function(){cc.director.loadScene("loading",function(){cc.director.loadScene("menu")})},e.prototype.quit=function(){cc.game.end()},e.prototype.loadMap=function(){var t=cc.sys.localStorage.getItem("Current Map");cc.director.loadScene("loading",function(){cc.director.loadScene(t)})},c([s(cc.AudioClip)],e.prototype,"bgm",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],explosiveObj:[function(t,e,o){"use strict";cc._RF.push(e,"079e6bq3+FHv6zx/j8sH7XJ","explosiveObj");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.isExplode=!1,e.sfx_barrel=null,e}return i(e,t),e.prototype.onLoad=function(){this.anim=this.node.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.onBeginContact=function(t,e,o){var n=this;"bullet"!=o.node.group&&"explosiveObj"!=o.node.group&&"bomb"!=o.node.group&&"Die Boundary"!=o.node.name||this.isExplode||(cc.audioEngine.playEffect(this.sfx_barrel,!1),this.node.getComponent(cc.PhysicsCircleCollider).enabled=!0,this.node.group="explosiveObj",this.anim.play("explosion2"),this.scheduleOnce(function(){n.node.destroy()},.7),this.isExplode=!0)},c([s(cc.AudioClip)],e.prototype,"sfx_barrel",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],map:[function(t,e,o){"use strict";cc._RF.push(e,"14f70EKnv9BG7VGuHVryKuY","map");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groundPrefab=null,e.groundUpperPrefab=null,e.firePrefab=null,e.weaponPrefab0=null,e.weaponPrefab1=null,e.weaponPrefab2=null,e.weaponPrefab3=null,e.weaponPrefab4=null,e.hpPrefab=null,e.groundPool=null,e.groundPool1=null,e.firePool=null,e.spawnCooldown=0,e.toSpawnWeaponNum=0,e.weaponState=[!0,!1,!1,!1,!1],e}return i(e,t),e.prototype.onLoad=function(){var t=this;if(this.groundUpperPrefab){for(this.groundPool=new cc.NodePool("Ground"),e=0;e<1200;e++)o=cc.instantiate(this.groundPrefab),this.groundPool.put(o);for(this.groundPool1=new cc.NodePool("Ground1"),e=0;e<200;e++)o=cc.instantiate(this.groundUpperPrefab),this.groundPool1.put(o)}else{this.groundPool=new cc.NodePool("Ground");for(var e=0;e<1400;e++){var o=cc.instantiate(this.groundPrefab);this.groundPool.put(o)}}for(this.firePool=new cc.NodePool("Fire"),e=0;e<210;e++){var n=cc.instantiate(this.firePrefab);this.firePool.put(n)}this.schedule(this.spawnWeapon,10),this.schedule(this.spawnPotion,12),this.schedule(function(){t.toSpawnWeaponNum=Math.floor(5*Math.random())},8),this.weaponState[0]=!!cc.sys.localStorage.getItem("AK47")&&"true"==cc.sys.localStorage.getItem("AK47"),this.weaponState[1]=!!cc.sys.localStorage.getItem("AR")&&"true"==cc.sys.localStorage.getItem("AR"),this.weaponState[2]=!!cc.sys.localStorage.getItem("grenade")&&"true"==cc.sys.localStorage.getItem("grenade"),this.weaponState[3]=!!cc.sys.localStorage.getItem("shotgun")&&"true"==cc.sys.localStorage.getItem("shotgun"),this.weaponState[4]=!!cc.sys.localStorage.getItem("sniper")&&"true"==cc.sys.localStorage.getItem("sniper")},e.prototype.start=function(){this.createGround(),this.createFire()},e.prototype.createGround=function(){var t=0;if(this.groundUpperPrefab){for(;this.groundPool.size()>0;)this.groundPool.get(this.groundPool).getComponent("Ground").init(this.node,t),t++;for(t=1200;this.groundPool1.size()>0;)this.groundPool1.get(this.groundPool1).getComponent("Ground").init(this.node,t),t++}else for(;this.groundPool.size()>0;)this.groundPool.get(this.groundPool).getComponent("Ground").init(this.node,t),t++},e.prototype.createFire=function(){for(var t=0,e=null;this.firePool.size()>0;)(e=this.firePool.get(this.firePool)).parent=cc.find("Canvas/fire"),e.position=cc.v2(16*t-598,-320),e.position=e.position.addSelf(this.node.position),e.getComponent(cc.Animation).play("fire"),t++},e.prototype.spawnWeapon=function(){for(var t=null,e=cc.v2(Math.floor(2200*Math.random())-150,350),o=0;o<5&&!this.weaponState[this.toSpawnWeaponNum];o++)this.toSpawnWeaponNum++,this.toSpawnWeaponNum%=5;switch(this.toSpawnWeaponNum){case 0:t=cc.instantiate(this.weaponPrefab0);break;case 1:t=cc.instantiate(this.weaponPrefab1);break;case 2:t=cc.instantiate(this.weaponPrefab2);break;case 3:t=cc.instantiate(this.weaponPrefab3);break;case 4:t=cc.instantiate(this.weaponPrefab4);break;default:t=cc.instantiate(this.weaponPrefab0)}t&&(t.parent=this.node.parent.getChildByName("Object"),t.setPosition(e))},e.prototype.spawnPotion=function(){var t=null,e=cc.v2(Math.floor(2200*Math.random())-150,350);(t=cc.instantiate(this.hpPrefab))&&(t.parent=this.node.parent.getChildByName("Object"),t.setPosition(e))},c([s(cc.Prefab)],e.prototype,"groundPrefab",void 0),c([s(cc.Prefab)],e.prototype,"groundUpperPrefab",void 0),c([s(cc.Prefab)],e.prototype,"firePrefab",void 0),c([s(cc.Prefab)],e.prototype,"weaponPrefab0",void 0),c([s(cc.Prefab)],e.prototype,"weaponPrefab1",void 0),c([s(cc.Prefab)],e.prototype,"weaponPrefab2",void 0),c([s(cc.Prefab)],e.prototype,"weaponPrefab3",void 0),c([s(cc.Prefab)],e.prototype,"weaponPrefab4",void 0),c([s(cc.Prefab)],e.prototype,"hpPrefab",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],weaponObj:[function(t,e,o){"use strict";cc._RF.push(e,"beed63tWwNNlJ7BTaLTOvZI","weaponObj");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weaponType="0",e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.onBeginContact=function(t,e,o){"Die Boundary"!=o.node.name&&"player"!=o.node.group||this.node.destroy()},e.prototype.getWeaponType=function(){return this.weaponType},c([s()],e.prototype,"weaponType",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["AreaNode","Arrow","Bomb","Bullet","Crosshair","GameManager","Ground","Ground2","Instructions-minimap","Instructions-option1","Instructions-option2","Instructions-win","Instructions","Lobby","MainMenu","Menu","MiniCam","Player","PlayerName","Playerchoose","SelectChar","Shop","SignIn","SignUp","TrajectoryLine","UI","Welcome","WelcomeTxt","Win","chooseMap","ending","explosiveObj","map","weaponObj"]);