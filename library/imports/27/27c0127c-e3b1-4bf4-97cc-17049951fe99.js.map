{"version":3,"sources":["assets\\scripts\\Ground.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Ground extends cc.Component \r\n{\r\n\r\n    private isGone: boolean = false;\r\n\r\n    public init(node: cc.Node, index: number) \r\n    {\r\n        this.setInitPos(node, index);\r\n    }\r\n\r\n    reuse(bulletManager)\r\n    {\r\n        \r\n    }\r\n\r\n    private setInitPos(node: cc.Node, index: number)\r\n    {\r\n        this.node.parent = node;\r\n\r\n        this.node.position = cc.v3(-480 + (15 * index) % (15 * 200), -320 + 15 * Math.floor(index / 200)); \r\n        \r\n        this.node.position = this.node.position.addSelf(node.position);\r\n    }\r\n    \r\n    onBeginContact(contact, self, other) {\r\n        if(other.node.group == \"bomb\") {\r\n            this.node.getChildByName(\"particle\").active = true;\r\n            if(!this.isGone){\r\n                this.scheduleOnce(()=>{\r\n                    this.node.destroy();\r\n                }, 0.1);\r\n                this.isGone = true;\r\n                cc.find(\"Canvas/Main Camera/UI\").getComponent(\"UI\").updateRecord(\"score\", 100);\r\n                cc.find(\"Canvas/Main Camera/UI\").getComponent(\"UI\").updateRecord(\"coin\", 100);\r\n            }\r\n            \r\n        } else if(other.node.group == \"bullet\") {\r\n            this.node.getChildByName(\"particle\").active = true;\r\n            if(!this.isGone){\r\n                this.scheduleOnce(()=>{\r\n                    this.node.destroy();\r\n                }, 0.05);\r\n                this.isGone = true;\r\n                cc.find(\"Canvas/Main Camera/UI\").getComponent(\"UI\").updateRecord(\"score\", 100);\r\n                cc.find(\"Canvas/Main Camera/UI\").getComponent(\"UI\").updateRecord(\"coin\", 100);\r\n            }\r\n        }\r\n    }\r\n\r\n    onPreSolve(contact, self, other){\r\n        if(other.node.group == \"explosiveObj\"){\r\n            this.node.getChildByName(\"particle\").active = true;\r\n            if(!this.isGone){\r\n                this.scheduleOnce(()=>{\r\n                    this.node.destroy();\r\n                }, 0.35);\r\n                this.isGone = true;\r\n                cc.find(\"Canvas/Main Camera/UI\").getComponent(\"UI\").updateRecord(\"score\", 100);\r\n                cc.find(\"Canvas/Main Camera/UI\").getComponent(\"UI\").updateRecord(\"coin\", 100);\r\n            }\r\n        } \r\n    }\r\n}\r\n"]}