{"version":3,"sources":["assets\\scripts\\Player.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAoC,0BAAY;IAAhD;QAAA,qEA6dC;QA1dG,eAAS,GAAiB,IAAI,CAAC;QAG/B,cAAQ,GAAiB,IAAI,CAAC;QAGtB,kBAAY,GAAc,IAAI,CAAC;QAG/B,gBAAU,GAAc,IAAI,CAAC;QAGrC,gBAAU,GAAc,IAAI,CAAC;QAG7B,mBAAa,GAAc,IAAI,CAAC;QAEzB,UAAI,GAAG,IAAI,CAAC;QAEZ,gBAAU,GAAG,IAAI,CAAC;QAEjB,kBAAY,GAAG,IAAI,CAAC;QAEpB,gBAAU,GAAW,IAAI,CAAC;QAE1B,cAAQ,GAAG,IAAI,CAAC;QAEhB,iBAAW,GAAW,IAAI,CAAC;QAE3B,eAAS,GAAW,GAAG,CAAC;QAExB,mBAAa,GAAW,CAAC,CAAC;QAE1B,qBAAe,GAAW,CAAC,CAAC;QAE5B,kBAAY,GAAW,IAAI,CAAC;QAE5B,UAAI,GAAY,KAAK,CAAC;QAEtB,gBAAU,GAAY,KAAK,CAAC;QAE7B,WAAK,GAAY,KAAK,CAAC;QAEtB,YAAM,GAAY,KAAK,CAAC;QAExB,eAAS,GAAiB,IAAI,CAAC;QAE/B,oBAAc,GAAG,IAAI,CAAC;QAEtB,eAAS,GAAiB,IAAI,CAAC;QAE/B,SAAG,GAAY,KAAK,CAAC;QAErB,WAAK,GAAY,KAAK,CAAC;QAEvB,cAAQ,GAAG,IAAI,CAAC;QAEhB,UAAI,GAAY,KAAK,CAAC;QAEtB,WAAK,GAAG,IAAI,CAAC;QAEb,WAAK,GAAW,IAAI,CAAC;QAErB,WAAK,GAAW,GAAG,CAAC;QAEpB,QAAE,GAAW,GAAG,CAAC;QAEjB,UAAI,GAAY,KAAK,CAAC;QAEvB,YAAM,GAAW,KAAK,CAAC;QAEvB,aAAO,GAAW,QAAQ,CAAC;QAE1B,mBAAa,GAAW,GAAG,CAAC;QAE5B,SAAG,GAAY,KAAK,CAAC;;IA+YjC,CAAC;IA7YG,wBAAwB;IAExB,uBAAM,GAAN;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QAC1D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;QAC9D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;QAC5D,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,KAAI,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,CAAC,EAAE,EAAE;YACxC,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAE3C,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SAC3B;IACL,CAAC;IAED,sBAAK,GAAL;IAEA,CAAC;IAED,uBAAM,GAAN,UAAQ,EAAE;QACN,IAAG,CAAC,IAAI,CAAC,GAAG,EAAE;YACV,IAAG,CAAC,IAAI,CAAC,KAAK,EAAE;gBACZ,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;gBAC7E,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACpB,IAAG,IAAI,CAAC,EAAE,IAAI,CAAC,EAAC;oBACZ,IAAI,CAAC,SAAS,EAAE,CAAC;iBACpB;qBAAM;oBACH,IAAG,IAAI,CAAC,IAAI,EAAE;wBACV,IAAI,CAAC,UAAU,EAAE,CAAC;qBACrB;oBACD,IAAG,IAAI,CAAC,KAAK,EAAE;wBACX,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;qBACnC;yBAAM,IAAG,IAAI,CAAC,IAAI,EAAE;wBACjB,IAAI,CAAC,UAAU,EAAE,CAAC;qBACrB;oBACD,IAAI,CAAC,eAAe,EAAE,CAAC;iBAC1B;aACJ;SACJ;IACL,CAAC;IAED,+BAAc,GAAd,UAAe,OAAO,EAAE,IAAI,EAAE,KAAK;QAAnC,iBAmGC;QAlGG,IAAG,OAAO,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,oBAAoB;YAC9D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SAC1B;QACD,gDAAgD;QAChD,8BAA8B;QAC9B,IAAI;QACJ,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,QAAQ,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,cAAc,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,MAAM,EAAE;YACjG,IAAG,CAAC,IAAI,CAAC,KAAK,EAAE;gBACZ,IAAI,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;gBAC1D,IAAG,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE;oBACb,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;iBACf;qBAAM;oBACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;oBACjB,IAAI,IAAI,CAAC,UAAU,IAAI,OAAO,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,EAAC;wBAC3C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACvD,gCAAgC;wBAChC,8DAA8D;wBAC9D,WAAW;qBACd;yBACI,IAAI,IAAI,CAAC,UAAU,IAAI,OAAO,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,EAAC;wBAChD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACvD,gCAAgC;wBAChC,8DAA8D;wBAC9D,WAAW;qBACd;yBACI,IAAI,IAAI,CAAC,UAAU,IAAI,OAAO,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,EAAC;wBAChD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACvD,gCAAgC;wBAChC,8DAA8D;wBAC9D,WAAW;qBACd;yBACI,IAAI,IAAI,CAAC,UAAU,IAAI,OAAO,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,EAAC;wBAChD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACvD,gCAAgC;wBAChC,8DAA8D;wBAC9D,WAAW;qBACd;oBACD,IAAI,CAAC,YAAY,CAAC;wBACd,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oBACtB,CAAC,EAAE,GAAG,CAAC,CAAA;iBACV;gBACD,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,QAAQ,EAAC;oBAC5B,IAAI,aAAW,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAClD,aAAW,CAAC,MAAM,GAAG,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;oBAC5C,aAAW,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC3E,IAAI,CAAC,YAAY,CAAC;wBACd,aAAW,CAAC,OAAO,EAAE,CAAC;oBAC1B,CAAC,EAAE,GAAG,CAAC,CAAC;iBACX;gBAED,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,MAAM,EAAC;oBAC1B,IAAI,aAAW,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACrD,aAAW,CAAC,MAAM,GAAG,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;oBAC5C,aAAW,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC3E,IAAI,CAAC,YAAY,CAAC;wBACd,aAAW,CAAC,OAAO,EAAE,CAAC;oBAC1B,CAAC,EAAE,GAAG,CAAC,CAAC;iBACX;aACJ;SACJ;aAAM,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,MAAM,EAAE;YAClC,IAAG,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,cAAc,EAAE;gBAClC,IAAI,CAAC,SAAS,EAAE,CAAC;aACpB;SACJ;QAED,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,WAAW,EAAC;YAC/B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,aAAa,EAAE,CAAC;YAC1E,QAAQ,IAAI,CAAC,aAAa,EAAE;gBACxB,KAAK,GAAG;oBACJ,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC;oBACxB,MAAM;gBACV,KAAK,GAAG;oBACJ,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;oBACvB,MAAM;gBACV,KAAK,GAAG;oBACJ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;oBACrB,MAAM;gBACV,KAAK,GAAG;oBACJ,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;oBACzB,MAAM;gBACV,KAAK,GAAG;oBACJ,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC;oBACxB,MAAM;gBACV;oBACI,MAAM;aACb;SACJ;QAED,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,SAAS,EAAC;YAC7B,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC;YACd,IAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAC;gBACb,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;aACjB;SACJ;IACL,CAAC;IAED,2BAAU,GAAV,UAAW,EAAE;QACT,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,CAAI,iBAAiB;QAC7E,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;QACvD,IAAG,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,IAAI,CAAC,eAAe,IAAI,CAAC,EAAE,EAAI,iCAAiC;YAC1F,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YACrB,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;YAC3B,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;YAC/C,IAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;gBACrB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;aAC5B;SACJ;aAAM,IAAG,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC,EAAE;YAC9D,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC5B,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAChD,IAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;gBACrB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aAC7B;SACJ;IACL,CAAC;IAED,2BAAU,GAAV;QACI,IAAG,IAAI,CAAC,UAAU,EAAE,EAAG,sBAAsB;YACzC,IAAI,CAAC,SAAS,CAAC,cAAc,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAI,oBAAoB;YACpF,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;YACjD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC1D;IACL,CAAC;IAEO,6BAAY,GAApB,UAAqB,IAAY;QAAjC,iBAyCC;QAvCG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,YAAY,CAAC;YACd,KAAI,CAAC,GAAG,GAAG,KAAK,CAAC;QACrB,CAAC,EAAE,GAAG,CAAC,CAAA;QACP,IAAG,IAAI,IAAI,QAAQ,EAAE;YACjB,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC/C,IAAG,MAAM,IAAI,IAAI,EAAE;gBACf,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACnD,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aACvD;SACJ;aACI,IAAG,IAAI,IAAI,OAAO,EAAE;YACrB,IAAI,CAAC,QAAQ,CAAC;gBACV,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpB,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC/C,IAAG,MAAM,IAAI,IAAI,EAAE;oBACf,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACnD,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC;iBACvD;YACL,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;SACf;aACI,IAAG,IAAI,IAAI,SAAS,EAAE;YACvB,IAAI,OAAO,GAAG,CAAC,GAAG,CAAC;YACnB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACvB,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC/C,IAAG,MAAM,IAAI,IAAI,EAAE;oBACf,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC;oBAC7D,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBACpD,OAAO,IAAI,IAAI,CAAC;iBACnB;aACJ;SACJ;aACI,IAAG,IAAI,IAAI,QAAQ,EAAE;YACtB,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC/C,IAAG,MAAM,IAAI,IAAI,EAAE;gBACf,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACnD,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aACvD;SACJ;IACL,CAAC;IAEO,2BAAU,GAAlB;QAEI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC;YACxB,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE5C,IAAG,IAAI,IAAI,IAAI,EAAE;YACb,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAChE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC7C;IACL,CAAC;IAED,0BAAS,GAAT;QACI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,IAAI,CAAC,UAAU,IAAI,OAAO,EAAC;YAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC1D;aACI,IAAI,IAAI,CAAC,UAAU,IAAI,OAAO,EAAC;YAChC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC1D;aACI,IAAI,IAAI,CAAC,UAAU,IAAI,OAAO,EAAC;YAChC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC1D;aACI,IAAI,IAAI,CAAC,UAAU,IAAI,OAAO,EAAC;YAChC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC1D;QACD,IAAI,CAAC,YAAY,CAAC;YACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACpB,iEAAiE;QACrE,CAAC,EAAE,CAAC,CAAC,CAAC;QACN,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAChD,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC,SAAS,EAAE,CAAC;IAC3E,CAAC;IAED,gCAAe,GAAf;QACI,IAAG,CAAC,IAAI,CAAC,KAAK,EAAC,EAAK,sBAAsB;YACtC,IAAG,IAAI,CAAC,UAAU,IAAI,OAAO,EAAE,EAAG,yCAAyC;gBACvE,IAAG,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,WAAW,CAAC,EAAE;oBAChI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC1D;qBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,GAAG,IAAK,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,UAAU,CAAC,EAAE;oBACxG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzD;qBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,UAAU,CAAC,EAAE;oBAC1G,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzD;qBAAM,IAAG,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,WAAW,CAAC,EAAE;oBAC7F,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC1D;gBACD,mFAAmF;gBACnF,wCAAwC;gBACxC,8DAA8D;gBAC9D,IAAI;gBACJ,2IAA2I;gBAC3I,6DAA6D;gBAC7D,IAAI;gBACJ,qIAAqI;gBACrI,8DAA8D;gBAC9D,cAAc;aACjB;iBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,OAAO,EAAE;gBAClC,IAAG,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,WAAW,CAAC,EAAE;oBAChI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC1D;qBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,GAAG,IAAK,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,UAAU,CAAC,EAAE;oBACxG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzD;qBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,UAAU,CAAC,EAAE;oBAC1G,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzD;qBAAM,IAAG,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,WAAW,CAAC,EAAE;oBAC7F,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC1D;aACJ;iBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,OAAO,EAAE;gBAClC,IAAG,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,WAAW,CAAC,EAAE;oBAChI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC1D;qBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,GAAG,IAAK,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,UAAU,CAAC,EAAE;oBACxG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzD;qBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,UAAU,CAAC,EAAE;oBAC1G,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzD;qBAAM,IAAG,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,WAAW,CAAC,EAAE;oBAC7F,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC1D;aACJ;iBAAO,IAAG,IAAI,CAAC,UAAU,IAAI,OAAO,EAAE;gBACnC,IAAG,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,WAAW,CAAC,EAAE;oBAChI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC1D;qBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,GAAG,IAAK,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,UAAU,CAAC,EAAE;oBACxG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzD;qBAAM,IAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,UAAU,CAAC,EAAE;oBAC1G,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzD;qBAAM,IAAG,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,WAAW,CAAC,EAAE;oBAC7F,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC1D;aACJ;SACJ;IACL,CAAC;IAED,uCAAsB,GAAtB,UAAuB,GAAW;QAC9B,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;IAC7B,CAAC;IAED,yCAAwB,GAAxB,UAAyB,GAAW;QAChC,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;IAC/B,CAAC;IAED,8BAAa,GAAb,UAAc,GAAY;QACtB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;IACpB,CAAC;IAED,+BAAc,GAAd,UAAe,KAAK;QAChB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,8BAAa,GAAb,UAAc,KAAK;QACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,8BAAa,GAAb;QACI,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;YAC7B,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;SAChG;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;YACpC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;SAChG;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;YACpC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;SAChG;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;YACpC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;SAChG;IACL,CAAC;IAED,gCAAe,GAAf;QACI,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,mBAAmB,EAAE;YACtC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;SAC/F;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,mBAAmB,EAAE;YAC7C,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;SAC/F;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,mBAAmB,EAAE;YAC7C,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;SAC/F;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,sBAAsB,EAAE;YAChD,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;SAClG;IACL,CAAC;IAED,+BAAc,GAAd;QACI,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,mBAAmB,EAAE;YACtC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;YACnE,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;SAC7B;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,mBAAmB,EAAE;YAC7C,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;YACnE,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;SAC7B;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,mBAAmB,EAAE;YAC7C,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;YACnE,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;SAC7B;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,sBAAsB,EAAE;YAChD,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;YACtE,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;SAChC;IACL,CAAC;IAED,8BAAa,GAAb;QACI,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;YAC7B,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;YAC/D,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;SAC7B;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;YACpC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;YAC/D,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;YAC1B,oBAAoB;SACvB;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;YACpC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;YAC/D,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;SAC7B;aAAM,IAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;YACpC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;YAC/D,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;SAC7B;IACL,CAAC;IAED,iCAAgB,GAAhB;QACI,OAAO,IAAI,CAAC,aAAa,CAAC;IAC9B,CAAC;IAzdD;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;6CACQ;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;4CACO;IAG9B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;gDACmB;IAGvC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;8CACiB;IAGrC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;8CACS;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iDACY;IAlBf,MAAM;QAD1B,OAAO;OACa,MAAM,CA6d1B;IAAD,aAAC;CA7dD,AA6dC,CA7dmC,EAAE,CAAC,SAAS,GA6d/C;kBA7doB,MAAM","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Player extends cc.Component {\r\n\r\n    @property(cc.AudioClip)\r\n    jumpAudio: cc.AudioClip = null;\r\n\r\n    @property(cc.AudioClip)\r\n    dieAudio: cc.AudioClip = null;\r\n\r\n    @property(cc.Prefab)\r\n    private bulletPrefab: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    private bombPrefab: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    damageParc: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    damageEffAnim: cc.Prefab = null;\r\n\r\n    public line = null;\r\n\r\n    public playerName = null;\r\n\r\n    private playerNumber = null;\r\n\r\n    private playerChar: string = null;\r\n\r\n    private aimLabel = null;\r\n\r\n    private totalPlayer: string = null;\r\n\r\n    private moveSpeed: number = 300;\r\n\r\n    private moveDirection: number = 0;\r\n\r\n    private changeDirection: number = 0;\r\n\r\n    private jumpVelocity: number = 2500;\r\n\r\n    private jump: boolean = false;\r\n\r\n    private isOnGround: boolean = false;\r\n\r\n    public isDie: boolean = false;\r\n\r\n    private isMove: boolean = false;\r\n\r\n    private animation: cc.Animation = null;\r\n\r\n    private animationState = null;\r\n\r\n    private rigidBody: cc.RigidBody = null;\r\n\r\n    private win: boolean = false;\r\n\r\n    private shoot: boolean = false;\r\n\r\n    private bombPool = null;\r\n\r\n    private bomb: boolean = false;\r\n\r\n    private angle = null;\r\n\r\n    private power: number = null;\r\n\r\n    private maxHP: number = 100;\r\n\r\n    private HP: number = 100;\r\n\r\n    private hurt: boolean = false;\r\n\r\n    public weapon: string = \"gun\";\r\n\r\n    public gunType: string = \"normal\";\r\n\r\n    private currWeaponNum: string = \"0\";\r\n\r\n    private aim: boolean = false;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.animation = this.node.getComponent(cc.Animation);\r\n        this.rigidBody = this.node.getComponent(cc.RigidBody);\r\n        this.playerName = this.node.getChildByName(\"Player Name\");\r\n        this.playerNumber = this.node.getChildByName(\"Player Number\");\r\n        this.line = this.node.getChildByName(\"Trajectory Line\");\r\n        this.aimLabel = this.node.getChildByName(\"Aim Bomb Layout\");\r\n        this.setPlayerName();\r\n        this.setPlayerNumber();\r\n        this.setPlayerChar();\r\n        this.bombPool = new cc.NodePool('Bomb');\r\n        let maxBombNum = 5;\r\n        for(let i: number = 0; i < maxBombNum; i++) {\r\n            let bomb = cc.instantiate(this.bombPrefab);\r\n\r\n            this.bombPool.put(bomb);\r\n        }\r\n    }\r\n\r\n    start () {\r\n\r\n    }\r\n\r\n    update (dt) {\r\n        if(!this.win) {\r\n            if(!this.isDie) {\r\n                cc.find(\"Player Health/bar\", this.node).width = (this.HP / this.maxHP) * 100;\r\n                this.playerMove(dt);\r\n                if(this.HP <= 0){\r\n                    this.playerDie();\r\n                } else {\r\n                    if(this.jump) {\r\n                        this.playerJump();\r\n                    }\r\n                    if(this.shoot) {\r\n                        this.createBullet(this.gunType);\r\n                    } else if(this.bomb) {\r\n                        this.createBomb();\r\n                    }\r\n                    this.playerAnimation();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    onBeginContact(contact, self, other) {\r\n        if(contact.getWorldManifold().normal.y < 0) { // step on something\r\n            this.isOnGround = true;\r\n        }\r\n        // if(other.tag == 1){     // on ground or props\r\n        //     this.isOnGround = true;\r\n        // }\r\n        if(other.node.group == \"bullet\" || other.node.group == \"explosiveObj\" || other.node.group == \"bomb\") {\r\n            if(!this.isDie) {\r\n                this.HP -= (other.node.group == \"explosiveObj\") ? 25 : 10;\r\n                if(this.HP <= 0) {\r\n                    this.HP = 0;\r\n                } else {\r\n                    this.hurt = true;\r\n                    if (this.playerChar == \"char1\" && this.HP != 0){\r\n                        this.animationState = this.animation.play('char1hurt');\r\n                        // this.scheduleOnce(function(){\r\n                        //     this.animationState = this.animation.play('char1idle');\r\n                        // }, 0.5);\r\n                    }\r\n                    else if (this.playerChar == \"char2\" && this.HP != 0){\r\n                        this.animationState = this.animation.play('char2hurt');\r\n                        // this.scheduleOnce(function(){\r\n                        //     this.animationState = this.animation.play('char2idle');\r\n                        // }, 0.5);\r\n                    }\r\n                    else if (this.playerChar == \"char3\" && this.HP != 0){\r\n                        this.animationState = this.animation.play('char3hurt');\r\n                        // this.scheduleOnce(function(){\r\n                        //     this.animationState = this.animation.play('char3idle');\r\n                        // }, 0.5);\r\n                    }\r\n                    else if (this.playerChar == \"char4\" && this.HP != 0){\r\n                        this.animationState = this.animation.play('char4hurt');\r\n                        // this.scheduleOnce(function(){\r\n                        //     this.animationState = this.animation.play('char3idle');\r\n                        // }, 0.5);\r\n                    }\r\n                    this.scheduleOnce(()=>{\r\n                        this.hurt = false;\r\n                    }, 0.5)\r\n                }\r\n                if(other.node.group == \"bullet\"){\r\n                    let particleEff = cc.instantiate(this.damageParc);\r\n                    particleEff.parent = cc.director.getScene();\r\n                    particleEff.setPosition(other.node.getPosition().addSelf(cc.v2(480, 320)));\r\n                    this.scheduleOnce(()=>{\r\n                        particleEff.destroy();\r\n                    }, 0.6);\r\n                }\r\n\r\n                if(other.node.group == \"bomb\"){\r\n                    let particleEff = cc.instantiate(this.damageEffAnim);\r\n                    particleEff.parent = cc.director.getScene();\r\n                    particleEff.setPosition(other.node.getPosition().addSelf(cc.v2(480, 320)));\r\n                    this.scheduleOnce(()=>{\r\n                        particleEff.destroy();\r\n                    }, 0.4);\r\n                }\r\n            }\r\n        } else if(other.node.group == \"wall\") {\r\n            if(other.node.name == \"Die Boundary\") {\r\n                this.playerDie();\r\n            }\r\n        }\r\n\r\n        if(other.node.group == \"weaponObj\"){\r\n            this.currWeaponNum = other.node.getComponent(\"weaponObj\").getWeaponType();\r\n            switch (this.currWeaponNum) {\r\n                case \"0\":\r\n                    this.weapon = \"gun\";\r\n                    this.gunType = \"normal\";\r\n                    break;\r\n                case \"1\":\r\n                    this.weapon = \"gun\";\r\n                    this.gunType = \"burst\";\r\n                    break;\r\n                case \"2\":\r\n                    this.weapon = \"bomb\";\r\n                    break;\r\n                case \"3\":\r\n                    this.weapon = \"gun\";\r\n                    this.gunType = \"shotgun\";\r\n                    break;\r\n                case \"4\":\r\n                    this.weapon = \"gun\";\r\n                    this.gunType = \"sniper\";\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if(other.node.group == \"itemObj\"){\r\n            this.HP += 30;\r\n            if(this.HP > 100){\r\n                this.HP = 100;\r\n            }\r\n        }\r\n    }\r\n\r\n    playerMove(dt) {\r\n        this.node.x += this.moveSpeed * this.moveDirection * dt;    // player walking\r\n        this.isMove = (this.moveDirection != 0) ? true : false;\r\n        if(this.moveDirection == 1 || this.changeDirection == 1) {   // change direction using scaling\r\n            this.node.scaleX = 1;\r\n            this.playerName.scaleX = 1;\r\n            cc.find(\"Player Health\", this.node).scaleX = 1;\r\n            if(this.aimLabel.active) {\r\n                this.aimLabel.scaleX = 1;\r\n            }\r\n        } else if(this.moveDirection == -1 || this.changeDirection == -1) {\r\n            this.node.scaleX = -1;\r\n            this.playerName.scaleX = -1;\r\n            cc.find(\"Player Health\", this.node).scaleX = -1;\r\n            if(this.aimLabel.active) {\r\n                this.aimLabel.scaleX = -1;\r\n            }\r\n        }\r\n    }\r\n\r\n    playerJump() {\r\n        if(this.isOnGround) {  // player is on ground\r\n            this.rigidBody.linearVelocity = cc.v2(0, this.jumpVelocity);    // add jump velocity\r\n            this.isOnGround = false;\r\n            cc.audioEngine.playEffect(this.jumpAudio, false);\r\n            this.animationState = this.animation.play('char1jump');\r\n        }\r\n    }\r\n\r\n    private createBullet(mode: string)\r\n    {\r\n        this.shoot = false;\r\n        this.scheduleOnce(()=>{\r\n            this.aim = false;\r\n        }, 0.5)\r\n        if(mode == \"normal\") {\r\n            let bullet = cc.instantiate(this.bulletPrefab);\r\n            if(bullet != null) {\r\n                bullet.getComponent('Bullet').setAngle(this.angle);\r\n                bullet.getComponent('Bullet').init(this.node, 1000);\r\n            }\r\n        }\r\n        else if(mode == \"burst\") {\r\n            this.schedule(function() {\r\n                console.log(\"boom\");\r\n                let bullet = cc.instantiate(this.bulletPrefab);\r\n                if(bullet != null) {\r\n                    bullet.getComponent('Bullet').setAngle(this.angle);\r\n                    bullet.getComponent('Bullet').init(this.node), 1000;\r\n                }\r\n            }, 0.05, 2);\r\n        }\r\n        else if(mode == \"shotgun\") {\r\n            let d_angle = -0.1;\r\n            for(let i = 0; i < 3; i++) {\r\n                let bullet = cc.instantiate(this.bulletPrefab);\r\n                if(bullet != null) {\r\n                    bullet.getComponent('Bullet').setAngle(this.angle + d_angle);\r\n                    bullet.getComponent('Bullet').init(this.node, 1000);\r\n                    d_angle += 0.05;\r\n                }\r\n            }\r\n        }\r\n        else if(mode == \"sniper\") {\r\n            let bullet = cc.instantiate(this.bulletPrefab);\r\n            if(bullet != null) {\r\n                bullet.getComponent('Bullet').setAngle(this.angle);\r\n                bullet.getComponent('Bullet').init(this.node, 2000);\r\n            }\r\n        }\r\n    }\r\n\r\n    private createBomb()\r\n    {\r\n        this.bomb = false;\r\n        let bomb = null;\r\n        if (this.bombPool.size() > 0) \r\n            bomb = this.bombPool.get(this.bombPool);\r\n\r\n        if(bomb != null) {\r\n            bomb.getComponent('Bomb').setAnglePower(this.angle, this.power);\r\n            bomb.getComponent('Bomb').init(this.node);\r\n        }\r\n    }\r\n\r\n    playerDie() {\r\n        this.isDie = true;\r\n        if (this.playerChar == \"char1\"){\r\n            this.animation.stop('char1idle');\r\n            this.animationState = this.animation.play('char1dead');\r\n        }\r\n        else if (this.playerChar == \"char2\"){\r\n            this.animation.stop('char2idle');\r\n            this.animationState = this.animation.play('char2dead');\r\n        }\r\n        else if (this.playerChar == \"char3\"){\r\n            this.animation.stop('char3idle');\r\n            this.animationState = this.animation.play('char3dead');\r\n        }\r\n        else if (this.playerChar == \"char4\"){\r\n            this.animation.stop('char4idle');\r\n            this.animationState = this.animation.play('char4dead');\r\n        }\r\n        this.scheduleOnce(function(){\r\n            this.node.destroy();\r\n            // this.node.getComponent(cc.PhysicsBoxCollider).enabled = false;\r\n        }, 1);\r\n        cc.audioEngine.playEffect(this.dieAudio, false);\r\n        cc.find(\"Canvas/Game Manager\").getComponent(\"GameManager\").playerDie();\r\n    }\r\n\r\n    playerAnimation() {\r\n        if(!this.isDie){    // animation for char1\r\n            if(this.playerChar == \"char1\") {  // MUST change to curPlayer == \"Player 1\"\r\n                if(this.isOnGround && !this.isMove && !this.hurt && !this.aim && (!this.animationState || this.animationState.name != \"char1idle\")) {\r\n                    this.animationState = this.animation.play(\"char1idle\");\r\n                } else if(this.isOnGround && this.aim  && (!this.animationState || this.animationState.name != \"char1aim\")) {\r\n                    this.animationState = this.animation.play(\"char1aim\");\r\n                } else if(this.isOnGround && this.isMove && (!this.animationState || this.animationState.name != \"char1run\")) {\r\n                    this.animationState = this.animation.play(\"char1run\");\r\n                } else if(!this.isOnGround && (!this.animationState || this.animationState.name != \"char1jump\")) {\r\n                    this.animationState = this.animation.play(\"char1jump\");\r\n                }\r\n                // if (this.isOnGround && this.animation.getAnimationState('char1jump').isPlaying){\r\n                //     this.animation.stop('char1jump');\r\n                //     this.animationState = this.animation.play('char1idle');\r\n                // }\r\n                // if (this.isMove && !this.animation.getAnimationState('char1run').isPlaying && !this.animation.getAnimationState('char1jump').isPlaying){\r\n                //     this.animationState = this.animation.play('char1run');\r\n                // }\r\n                // if (this.animationState == null || (!this.isMove && this.isOnGround && !this.animation.getAnimationState('char1idle').isPlaying)){\r\n                //     this.animationState = this.animation.play('char1idle');\r\n                // }          \r\n            } else if(this.playerChar == \"char2\") {\r\n                if(this.isOnGround && !this.isMove && !this.hurt && !this.aim && (!this.animationState || this.animationState.name != \"char2idle\")) {\r\n                    this.animationState = this.animation.play(\"char2idle\");\r\n                } else if(this.isOnGround && this.aim  && (!this.animationState || this.animationState.name != \"char2aim\")) {\r\n                    this.animationState = this.animation.play(\"char2aim\");\r\n                } else if(this.isOnGround && this.isMove && (!this.animationState || this.animationState.name != \"char2run\")) {\r\n                    this.animationState = this.animation.play(\"char2run\");\r\n                } else if(!this.isOnGround && (!this.animationState || this.animationState.name != \"char2jump\")) {\r\n                    this.animationState = this.animation.play(\"char2jump\");\r\n                }\r\n            } else if(this.playerChar == \"char3\") {\r\n                if(this.isOnGround && !this.isMove && !this.hurt && !this.aim && (!this.animationState || this.animationState.name != \"char3idle\")) {\r\n                    this.animationState = this.animation.play(\"char3idle\");\r\n                } else if(this.isOnGround && this.aim  && (!this.animationState || this.animationState.name != \"char3aim\")) {\r\n                    this.animationState = this.animation.play(\"char3aim\");\r\n                } else if(this.isOnGround && this.isMove && (!this.animationState || this.animationState.name != \"char3run\")) {\r\n                    this.animationState = this.animation.play(\"char3run\");\r\n                } else if(!this.isOnGround && (!this.animationState || this.animationState.name != \"char3jump\")) {\r\n                    this.animationState = this.animation.play(\"char3jump\");\r\n                }\r\n            }  else if(this.playerChar == \"char4\") {\r\n                if(this.isOnGround && !this.isMove && !this.hurt && !this.aim && (!this.animationState || this.animationState.name != \"char4idle\")) {\r\n                    this.animationState = this.animation.play(\"char4idle\");\r\n                } else if(this.isOnGround && this.aim  && (!this.animationState || this.animationState.name != \"char4aim\")) {\r\n                    this.animationState = this.animation.play(\"char4aim\");\r\n                } else if(this.isOnGround && this.isMove && (!this.animationState || this.animationState.name != \"char4run\")) {\r\n                    this.animationState = this.animation.play(\"char4run\");\r\n                } else if(!this.isOnGround && (!this.animationState || this.animationState.name != \"char4jump\")) {\r\n                    this.animationState = this.animation.play(\"char4jump\");\r\n                }\r\n            }\r\n        }   \r\n    }\r\n\r\n    setPlayerMoveDirection(dir: number) {\r\n        this.moveDirection = dir;\r\n    }\r\n\r\n    setPlayerChangeDirection(dir: number) {\r\n        this.changeDirection = dir;\r\n    }\r\n\r\n    setPlayerJump(val: boolean) {\r\n        this.jump = val;\r\n    }\r\n\r\n    setPlayerShoot(angle) {\r\n        this.angle = angle;\r\n        this.shoot = true;\r\n    }\r\n\r\n    setPlayerBomb(angle) {\r\n        this.angle = angle;\r\n        this.bomb = true;\r\n    }\r\n\r\n    setPlayerName() {\r\n        if(this.node.name == \"Player 1\") {\r\n            this.playerName.getComponent(cc.Label).string = cc.sys.localStorage.getItem(\"Player 1 Name\");\r\n        } else if(this.node.name == \"Player 2\") {\r\n            this.playerName.getComponent(cc.Label).string = cc.sys.localStorage.getItem(\"Player 2 Name\");\r\n        } else if(this.node.name == \"Player 3\") {\r\n            this.playerName.getComponent(cc.Label).string = cc.sys.localStorage.getItem(\"Player 3 Name\");\r\n        } else if(this.node.name == \"Player 4\") {\r\n            this.playerName.getComponent(cc.Label).string = cc.sys.localStorage.getItem(\"Player 4 Name\");\r\n        }\r\n    }\r\n\r\n    setPlayerNumber() {\r\n        if(this.node.name == \"Player Number - 2\") {\r\n            this.playerNumber.getComponent(cc.Button).string = cc.sys.localStorage.getItem(\"2 Players\");\r\n        } else if(this.node.name == \"Player Number - 3\") {\r\n            this.playerNumber.getComponent(cc.Button).string = cc.sys.localStorage.getItem(\"3 Players\");\r\n        } else if(this.node.name == \"Player Number - 4\") {\r\n            this.playerNumber.getComponent(cc.Button).string = cc.sys.localStorage.getItem(\"4 Players\");\r\n        } else if(this.node.name == \"Player Number - team\") {\r\n            this.playerNumber.getComponent(cc.Button).string = cc.sys.localStorage.getItem(\"Team Players\");\r\n        }\r\n    }\r\n\r\n    setTotalPlayer() {\r\n        if(this.node.name == \"Player Number - 2\") {\r\n            this.totalPlayer = cc.sys.localStorage.getItem(\"Total Player - 2\");\r\n            this.totalPlayer = \"num2\";\r\n        } else if(this.node.name == \"Player Number - 3\") {\r\n            this.totalPlayer = cc.sys.localStorage.getItem(\"Total Player - 3\");\r\n            this.totalPlayer = \"num3\";\r\n        } else if(this.node.name == \"Player Number - 4\") {\r\n            this.totalPlayer = cc.sys.localStorage.getItem(\"Total Player - 4\");\r\n            this.totalPlayer = \"num4\";\r\n        } else if(this.node.name == \"Player Number - team\") {\r\n            this.totalPlayer = cc.sys.localStorage.getItem(\"Total Player - team\");\r\n            this.totalPlayer = \"numteam\";\r\n        }\r\n    }\r\n\r\n    setPlayerChar() {\r\n        if(this.node.name == \"Player 1\") {\r\n            this.playerChar = cc.sys.localStorage.getItem(\"Player 1 Char\");\r\n            this.playerChar = \"char1\";\r\n        } else if(this.node.name == \"Player 2\") {\r\n            this.playerChar = cc.sys.localStorage.getItem(\"Player 2 Char\");\r\n            this.playerChar = \"char2\";\r\n            //console.log(\"aaa\")\r\n        } else if(this.node.name == \"Player 3\") {\r\n            this.playerChar = cc.sys.localStorage.getItem(\"Player 3 Char\");\r\n            this.playerChar = \"char3\";\r\n        } else if(this.node.name == \"Player 4\") {\r\n            this.playerChar = cc.sys.localStorage.getItem(\"Player 4 Char\");\r\n            this.playerChar = \"char4\";\r\n        }\r\n    }\r\n\r\n    getCurrWeaponNum(){\r\n        return this.currWeaponNum;\r\n    }\r\n}\r\n"]}