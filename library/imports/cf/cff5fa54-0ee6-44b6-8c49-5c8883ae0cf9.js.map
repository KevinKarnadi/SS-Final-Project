{"version":3,"sources":["assets\\scripts\\Win.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Win extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    playername: cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    playerimage: cc.Node = null;\r\n\r\n    @property(cc.Label)\r\n    winnerScore: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    winnerGem: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    winnerCoin: cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    GameManager: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    UI: cc.Node = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    char1: cc.SpriteFrame = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    char2: cc.SpriteFrame = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    char3: cc.SpriteFrame = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    char4: cc.SpriteFrame = null;\r\n\r\n    private gameover = false;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n\r\n    }\r\n\r\n    update (dt) {\r\n        if(!this.gameover){\r\n            if(cc.find(\"Canvas/Game Manager\").getComponent(\"GameManager\").getWin()){\r\n                this.gameover = true;\r\n\r\n                this.playername.getComponent(cc.Label).string = cc.find(\"Canvas/Main Camera/UI/Profile/name\").getComponent(cc.Label).string;\r\n                this.winnerScore.string = cc.find(\"Canvas/Main Camera/UI\").getComponent(\"UI\").scoreLabel.string;\r\n                this.winnerCoin.string = cc.find(\"Canvas/Main Camera/UI\").getComponent(\"UI\").coinLabel.string;\r\n                this.winnerGem.string = cc.find(\"Canvas/Main Camera/UI\").getComponent(\"UI\").gemLabel.string;\r\n                if(cc.find(\"Canvas/Main Camera/UI/Profile/face0\").active){\r\n                    this.playerimage.getComponent(cc.Sprite).spriteFrame = this.char1;\r\n                    //cc.find(\"Canvas/Main Camera/UI/Profile/face0\").active = false;\r\n                }\r\n                if(cc.find(\"Canvas/Main Camera/UI/Profile/face1\").active){\r\n                    this.playerimage.getComponent(cc.Sprite).spriteFrame = this.char2;\r\n                    //cc.find(\"Canvas/Main Camera/UI/Profile/face1\").active = false;\r\n                }\r\n                if(cc.find(\"Canvas/Main Camera/UI/Profile/face2\").active){\r\n                    this.playerimage.getComponent(cc.Sprite).spriteFrame = this.char3;\r\n                    //cc.find(\"Canvas/Main Camera/UI/Profile/face2\").active = false;\r\n                }\r\n                if(cc.find(\"Canvas/Main Camera/UI/Profile/face3\").active){\r\n                    this.playerimage.getComponent(cc.Sprite).spriteFrame = this.char4;\r\n                    //cc.find(\"Canvas/Main Camera/UI/Profile/face3\").active = false;\r\n                }\r\n                cc.find(\"Canvas/Main Camera/UI/Timer\").active = false;\r\n                cc.find(\"Canvas/Main Camera/UI/Record\").active = false;\r\n                cc.find(\"Canvas/Main Camera/UI/WeaponUi\").active = false;\r\n                cc.find(\"Canvas/Main Camera/UI/Profile\").active = false;\r\n                let action = cc.sequence(cc.fadeIn(2), cc.fadeOut(2));\r\n                this.node.runAction(action);\r\n            }\r\n        }\r\n        else {\r\n            this.scheduleOnce(()=>{\r\n                cc.director.loadScene(\"ending\");\r\n            }, 6)\r\n        }\r\n    }\r\n}\r\n"]}