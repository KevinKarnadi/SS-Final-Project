{"version":3,"sources":["assets\\scripts\\chooseMap.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class chooseMap extends cc.Component {\r\n\r\n    @property(cc.AudioClip)\r\n    bgm: cc.AudioClip = null;\r\n\r\n    @property(cc.AudioClip)\r\n    click: cc.AudioClip = null;\r\n\r\n    @property(cc.Button)\r\n    back: cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    map1btn: cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    map2btn: cc.Button = null;\r\n\r\n    private map1: string = \"true\";\r\n\r\n    private map2: string = \"false\";\r\n\r\n    onLoad () {\r\n        if(!cc.audioEngine.isMusicPlaying()) {\r\n            this.playBGM();\r\n        }\r\n        this.loadMapAsset();\r\n        this.loadSelectMapBtn();\r\n    }\r\n\r\n    start () {\r\n        this.menuMouseOn();\r\n    }\r\n\r\n    // update (dt) {}\r\n\r\n    playBGM() {\r\n        cc.audioEngine.playMusic(this.bgm, true);\r\n    }\r\n\r\n    loadMapAsset(){\r\n        this.map1 = cc.sys.localStorage.getItem(\"purple\");\r\n        this.map2 = cc.sys.localStorage.getItem(\"forest\");\r\n    }\r\n\r\n    loadSelectMapBtn() {\r\n        if(this.map1 == \"true\") {\r\n            this.lockBtn(this.map1btn);\r\n        }\r\n        if(this.map2 == \"true\") {\r\n            this.lockBtn(this.map2btn);\r\n        }\r\n    }\r\n\r\n    lockBtn(btn) {\r\n        btn.node.getChildByName(\"LockedBackground\").active = false;\r\n    }\r\n\r\n    menuMouseOn() {\r\n        this.back.node.on(cc.Node.EventType.MOUSE_DOWN, ()=>{\r\n            this.playClickAudio();\r\n            this.loadScene(\"character choose\");\r\n        });\r\n        this.map1btn.node.on(cc.Node.EventType.MOUSE_DOWN, ()=>{\r\n            if(this.map1 == \"true\") {\r\n                this.playClickAudio();\r\n                this.loadScene(\"map1\");\r\n            }\r\n        });\r\n        this.map2btn.node.on(cc.Node.EventType.MOUSE_DOWN, ()=>{\r\n            if(this.map2 == \"true\") {\r\n                this.playClickAudio();\r\n                this.loadScene(\"map2\");\r\n            }\r\n        });\r\n    }\r\n\r\n    playClickAudio(){\r\n        cc.audioEngine.playEffect(this.click, false);\r\n    }\r\n\r\n    loadScene(scene: string) {\r\n        cc.audioEngine.stopAll();\r\n        cc.director.loadScene(\"loading\", ()=>{\r\n            cc.director.loadScene(scene);\r\n        });\r\n    }\r\n}"]}