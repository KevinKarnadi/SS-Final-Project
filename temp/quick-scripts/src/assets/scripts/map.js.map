{"version":3,"sources":["assets\\scripts\\map.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Map extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    private groundPrefab: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    private groundUpperPrefab: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    private firePrefab: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    private weaponPrefab0: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    private weaponPrefab1: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    private weaponPrefab2: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    private weaponPrefab3: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    private weaponPrefab4: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    private hpPrefab: cc.Prefab = null;\r\n\r\n    private groundPool = null;\r\n    private groundPool1 = null;\r\n    private firePool = null;\r\n    private spawnCooldown: number = 0;\r\n    private toSpawnWeaponNum: number = 0;\r\n    private weaponState: boolean[] = [true, false, false, false, false];\r\n\r\n    onLoad () {\r\n        if(!this.groundUpperPrefab){\r\n            this.groundPool = new cc.NodePool('Ground');\r\n            for(let i: number = 0; i < 1400; i++) {\r\n                let ground = cc.instantiate(this.groundPrefab);\r\n                this.groundPool.put(ground);\r\n                // y.max = -222.5\r\n            }\r\n        } else {\r\n            this.groundPool = new cc.NodePool('Ground');\r\n            for(let i: number = 0; i < (1400 - 200); i++) {\r\n                let ground = cc.instantiate(this.groundPrefab);\r\n                this.groundPool.put(ground);\r\n                \r\n            }\r\n            this.groundPool1 = new cc.NodePool('Ground1');\r\n            for(let i: number = 0; i < 200; i++) {\r\n                let ground = cc.instantiate(this.groundUpperPrefab);\r\n                this.groundPool1.put(ground);\r\n            }\r\n        }\r\n        this.firePool = new cc.NodePool('Fire');\r\n        for(let i: number = 0; i < 210; i++) {\r\n            let fire = cc.instantiate(this.firePrefab);\r\n            this.firePool.put(fire);\r\n            // y.max = -222.5\r\n        }\r\n\r\n        this.schedule(this.spawnWeapon, 10);\r\n        this.schedule(this.spawnPotion, 12);\r\n        this.schedule(()=>{\r\n            this.toSpawnWeaponNum = Math.floor(Math.random() * 5);\r\n        }, 8)\r\n        // cc.sys.localStorage.setItem(\"AK47\", AK47);\r\n        // cc.sys.localStorage.setItem(\"AR\", AR);\r\n        // cc.sys.localStorage.setItem(\"grenade\", grenade);\r\n        // cc.sys.localStorage.setItem(\"shotgun\", shotgun);\r\n        // cc.sys.localStorage.setItem(\"sniper\", sniper);\r\n        // this.weaponState[0] = cc.sys.localStorage.getItem(\"AK47\") ? (cc.sys.localStorage.getItem(\"AK47\") == 'true' ? true : false) : false;\r\n        // this.weaponState[0] = cc.sys.localStorage.getItem(\"AR\") ? (cc.sys.localStorage.getItem(\"AR\") == 'true' ? true : false) : false;\r\n        // this.weaponState[0] = cc.sys.localStorage.getItem(\"grenade\") ? (cc.sys.localStorage.getItem(\"grenade\") == 'true' ? true : false) : false;\r\n        // this.weaponState[0] = cc.sys.localStorage.getItem(\"shotgun\") ? (cc.sys.localStorage.getItem(\"shotgun\") == 'true' ? true : false) : false;\r\n        // this.weaponState[0] = cc.sys.localStorage.getItem(\"sniper\") ? (cc.sys.localStorage.getItem(\"sniper\") == 'true' ? true : false) : false;\r\n        this.weaponState[0] = cc.sys.localStorage.getItem(\"AK47\") ? (cc.sys.localStorage.getItem(\"AK47\") == 'true' ? true : false) : false;\r\n        this.weaponState[1] = cc.sys.localStorage.getItem(\"AR\") ? (cc.sys.localStorage.getItem(\"AR\") == 'true' ? true : false) : false;\r\n        this.weaponState[2] = cc.sys.localStorage.getItem(\"grenade\") ? (cc.sys.localStorage.getItem(\"grenade\") == 'true' ? true : false) : false;\r\n        this.weaponState[3] = cc.sys.localStorage.getItem(\"shotgun\") ? (cc.sys.localStorage.getItem(\"shotgun\") == 'true' ? true : false) : false;\r\n        this.weaponState[4] = cc.sys.localStorage.getItem(\"sniper\") ? (cc.sys.localStorage.getItem(\"sniper\") == 'true' ? true : false) : false;\r\n        // this.weaponState[1] = cc.sys.localStorage.getItem(\"AR\");\r\n        // this.weaponState[2] = cc.sys.localStorage.getItem(\"grenade\");\r\n        // this.weaponState[3] = cc.sys.localStorage.getItem(\"shotgun\");\r\n        // this.weaponState[4] = cc.sys.localStorage.getItem(\"sniper\");\r\n        // for(let i=0; i<5; i++){\r\n        //     if(!this.weaponState[i]){\r\n        //         this.weaponState[i] = false;\r\n        //     } else{\r\n        //         this.weaponState[i] = true;\r\n        //     }\r\n        // }\r\n        // console.log(this.weaponState, \"load\");\r\n        // console.log(cc.sys.localStorage.getItem(\"AK47\"), cc.sys.localStorage.getItem(\"AR\"), cc.sys.localStorage.getItem(\"grenade\"), cc.sys.localStorage.getItem(\"shotgun\"), cc.sys.localStorage.getItem(\"sniper\"));\r\n    }\r\n    \r\n    start () {\r\n        this.createGround();\r\n        this.createFire();\r\n    }\r\n    \r\n    createGround() {\r\n        let ground = null;\r\n        let i = 0;\r\n        if(!this.groundUpperPrefab){\r\n            while(this.groundPool.size() > 0) {\r\n                ground = this.groundPool.get(this.groundPool);\r\n                ground.getComponent('Ground').init(this.node, i);\r\n                i++; \r\n            }\r\n        } else{\r\n            while(this.groundPool.size() > 0) {\r\n                ground = this.groundPool.get(this.groundPool);\r\n                ground.getComponent('Ground').init(this.node, i);\r\n                i++; \r\n            }\r\n            ground = null;\r\n            i = 1400-200;\r\n            while(this.groundPool1.size() > 0) {\r\n                ground = this.groundPool1.get(this.groundPool1);\r\n                ground.getComponent('Ground').init(this.node, i);\r\n                i++; \r\n            }\r\n        }\r\n    }\r\n\r\n    createFire(){\r\n        let index = 0;\r\n        let fires = null;\r\n        while(this.firePool.size() > 0){\r\n            fires = this.firePool.get(this.firePool);\r\n            \r\n            fires.parent = cc.find(\"Canvas/fire\");\r\n    \r\n            fires.position = cc.v2(-598 + (16 * index), -320); \r\n            \r\n            fires.position = fires.position.addSelf(this.node.position);\r\n            fires.getComponent(cc.Animation).play(\"fire\");\r\n            // fires.node.zIndex = 100;\r\n            // console.log(fires.position.x, \"fire\");\r\n            index++;\r\n        }\r\n    }\r\n\r\n    spawnWeapon(){\r\n        let newWeapon = null;\r\n        let position = cc.v2(Math.floor(Math.random() * 2200) - 150, 350);\r\n        for(let i=0; i<5; i++){\r\n            if(this.weaponState[this.toSpawnWeaponNum]){\r\n                break;\r\n            } else{\r\n                this.toSpawnWeaponNum++;\r\n                this.toSpawnWeaponNum %= 5;\r\n            }\r\n            // console.log(this.toSpawnWeaponNum, \"spawn\");\r\n        }\r\n        switch(this.toSpawnWeaponNum){\r\n            case 0:\r\n                newWeapon = cc.instantiate(this.weaponPrefab0);\r\n                break;\r\n            case 1:\r\n                newWeapon = cc.instantiate(this.weaponPrefab1);\r\n                break;\r\n            case 2:\r\n                newWeapon = cc.instantiate(this.weaponPrefab2);\r\n                break;\r\n            case 3:\r\n                newWeapon = cc.instantiate(this.weaponPrefab3);\r\n                break;\r\n            case 4:\r\n                newWeapon = cc.instantiate(this.weaponPrefab4);\r\n                break;\r\n            default:\r\n                newWeapon = cc.instantiate(this.weaponPrefab0);\r\n                break;\r\n        }\r\n\r\n        if(newWeapon){\r\n            newWeapon.parent = this.node.parent.getChildByName(\"Object\");\r\n            newWeapon.setPosition(position);\r\n        }\r\n    }\r\n\r\n    spawnPotion(){\r\n        let newpotion = null;\r\n        let position = cc.v2(Math.floor(Math.random() * 2200) - 150, 350);\r\n        newpotion = cc.instantiate(this.hpPrefab);\r\n\r\n        if(newpotion){\r\n            newpotion.parent = this.node.parent.getChildByName(\"Object\");\r\n            newpotion.setPosition(position);\r\n        }\r\n    }\r\n}\r\n"]}