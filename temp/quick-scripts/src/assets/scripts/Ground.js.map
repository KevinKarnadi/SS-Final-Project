{"version":3,"sources":["assets\\scripts\\Ground.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAoC,0BAAY;IAAhD;QAGI,uBAAuB;QAH3B,qEAgEC;QA3DG,gCAAgC;QAEzB,iBAAW,GAAG,KAAK,CAAC,CAAC,0DAA0D;;IAyD1F,CAAC;IAvDG,0CAA0C;IAE1C,qFAAqF;IAC9E,qBAAI,GAAX,UAAY,IAAa,EAAE,KAAa;QAEpC,+CAA+C;QAC/C,oDAAoD;QAEpD,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACjC,CAAC;IAED,mEAAmE;IACnE,sBAAK,GAAL,UAAM,aAAa;QAEf,sCAAsC;QAEtC,4BAA4B;IAChC,CAAC;IAED,qEAAqE;IAC7D,2BAAU,GAAlB,UAAmB,IAAa,EAAE,KAAa;QAE3C,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAExB,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC;QAElG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnE,CAAC;IAED,+BAAc,GAAd,UAAe,OAAO,EAAE,IAAI,EAAE,KAAK;QAAnC,iBAeC;QAdG,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,MAAM,EAAE;YAC3B,0CAA0C;YAC1C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnD,IAAI,CAAC,YAAY,CAAC;gBACd,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACxB,CAAC,EAAE,GAAG,CAAC,CAAC;SAEX;aAAM,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,QAAQ,EAAE;YACpC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;YACnD,IAAI,CAAC,YAAY,CAAC;gBACd,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACxB,CAAC,EAAE,IAAI,CAAC,CAAC;SACZ;IACL,CAAC;IAED,2BAAU,GAAV,UAAW,OAAO,EAAE,IAAI,EAAE,KAAK;QAA/B,iBAQC;QAPG,IAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,cAAc,EAAC;YAClC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnD,IAAI,CAAC,YAAY,CAAC;gBACd,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACxB,CAAC,EAAE,IAAI,CAAC,CAAC;SACZ;IACL,CAAC;IA/DgB,MAAM;QAD1B,OAAO;OACa,MAAM,CAgE1B;IAAD,aAAC;CAhED,AAgEC,CAhEmC,EAAE,CAAC,SAAS,GAgE/C;kBAhEoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Ground extends cc.Component \r\n{\r\n\r\n    // private anim = null;\r\n\r\n    // private bulletManager = null;\r\n\r\n    public isTriggered = false; // I add this to make the bullet kill one enemy at a time.\r\n\r\n    // private rigidBody: cc.RigidBody = null;\r\n\r\n    // when created, the bullet need to be placed at correct position and play animation.\r\n    public init(node: cc.Node, index: number) \r\n    {\r\n        // this.anim = this.getComponent(cc.Animation);\r\n        // this.rigidBody = this.getComponent(cc.RigidBody);\r\n\r\n        this.setInitPos(node, index);\r\n    }\r\n\r\n    // this function is called when the bullet manager calls \"get\" API.\r\n    reuse(bulletManager)\r\n    {\r\n        // this.bulletManager = bulletManager;\r\n\r\n        // this.isTriggered = false;\r\n    }\r\n\r\n    //this function sets the bullet's initial position when it is reused.\r\n    private setInitPos(node: cc.Node, index: number)\r\n    {\r\n        this.node.parent = node;\r\n\r\n        this.node.position = cc.v3(-480 + (15 * index) % (15 * 200), -320 + 15 * Math.floor(index / 200)); \r\n        \r\n        this.node.position = this.node.position.addSelf(node.position);\r\n    }\r\n    \r\n    onBeginContact(contact, self, other) {\r\n        if(other.node.group == \"bomb\") {\r\n            // console.log(other.node.group, \"begin\");\r\n            this.node.getChildByName(\"particle\").active = true;\r\n            \r\n            this.scheduleOnce(()=>{\r\n                this.node.destroy();\r\n            }, 0.1);\r\n            \r\n        } else if(other.node.group == \"bullet\") {\r\n            this.node.getChildByName(\"particle\").active = true;\r\n            this.scheduleOnce(()=>{\r\n                this.node.destroy();\r\n            }, 0.05);\r\n        }\r\n    }\r\n\r\n    onPreSolve(contact, self, other){\r\n        if(other.node.group == \"explosiveObj\"){\r\n            this.node.getChildByName(\"particle\").active = true;\r\n            \r\n            this.scheduleOnce(()=>{\r\n                this.node.destroy();\r\n            }, 0.35);\r\n        } \r\n    }\r\n}\r\n"]}